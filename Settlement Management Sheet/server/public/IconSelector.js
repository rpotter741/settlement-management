import{k as s,j as e,B as l,y as S,g as d,Z as w,b as D,z as T,a as z,T as k,C as E,D as M,u as L}from"./main.js";import{I as b,C as G}from"./Icon.js";import{i as P}from"./iconList.js";const R=({onChange:x,sourceColor:p="#000",onBackgroundChange:m=()=>{},bgColor:g="light"})=>{const[a,c]=s.useState(p),[i,C]=s.useState(g),[t,u]=s.useState("icon"),h=n=>{C(n),m(n)},f=n=>{c(n),x(n)},j=n=>{t==="icon"?f(n):h(n)};return e.jsxs(l,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[e.jsxs(S,{variant:"outlined","aria-label":"outlined button group",sx:{mb:1},children:[e.jsx(d,{onClick:()=>u("icon"),color:"primary",variant:t==="icon"?"contained":"outlined",children:"Icon"}),e.jsx(d,{onClick:()=>u("background"),color:"secondary",variant:t==="background"?"contained":"outlined",children:"Background"})]}),e.jsx(w,{color:a,onChange:j})]})},A=({tool:x,id:p,tabId:m,side:g})=>{const a=D(),c=T(z(x,p)),[i,C]=s.useState(c.icon),[t,u]=s.useState(c.icon.color),[h,f]=s.useState(c.icon.backgroundColor||"#fbf7ef"),j=(o,r)=>{C(r)},n=o=>{f(o)},I=o=>{u(o)},y=()=>{a(E({}))},v=()=>{const o={...i,color:t,backgroundColor:h};a(M({id:p,tool:x,keypath:"icon",updates:o})),a(L({tabId:m,side:g,keypath:"viewState.isDirty",updates:!0})),y()},B=s.useMemo(()=>[...P].sort((o,r)=>o.name.localeCompare(r.name)),[]);return e.jsxs(l,{sx:{display:"grid",gap:1,gridTemplateColumns:"repeat(6, 1fr)",width:"100%",minWidth:["100%",800]},children:[e.jsxs(l,{sx:{my:2,display:"flex",alignItems:"center",justifyContent:"space-around",gap:1,gridColumn:"span 6"},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:1,flexDirection:"column"},children:[e.jsx(k,{children:"Selected Icon:"}),e.jsx(b,{viewBox:i.viewBox,path:i.d,size:48,color:t,backgroundColor:h,mode:"preview"})]}),e.jsx(R,{sourceColor:t,onChange:I,onBackgroundChange:n})]}),B.map((o,r)=>o.name!==i.name&&e.jsx(G,{sx:{display:"flex",justifyContent:"center"},children:e.jsxs(d,{onClick:()=>j(null,o),sx:{display:"flex",justifyContent:"center",width:["60px","80px","100px"],height:["60px","80px","100px"],position:"relative"},children:[e.jsx(b,{viewBox:o.viewBox,path:o.d,size:48,color:t,mode:"preview"}),e.jsx(k,{variant:"caption",sx:{position:"absolute",bottom:0,display:{xs:"none",md:"block"},fontSize:"0.75rem"},children:o.name})]})},r)),e.jsxs(l,{sx:{gridColumn:"span 6",display:"flex",justifyContent:"center"},children:[e.jsx(d,{variant:"outlined",sx:{width:"50%",mt:2},onClick:y,children:"Cancel"}),e.jsx(d,{variant:"contained",sx:{width:"50%",mt:2},onClick:v,children:"Confirm"})]})]})};export{A as default};
