import{r as s,j as e,i as l,a3 as S,W as d,aG as w,a0 as T,aa as D,T as k,aH as z,aI as E,ay as M}from"./main.js";import{I,C as G}from"./Icon.js";import{i as L}from"./iconList.js";import{a as W}from"./toolSelectors.js";const H=({onChange:p,sourceColor:x="#000",onBackgroundChange:m=()=>{},bgColor:g="light"})=>{const[a,i]=s.useState(x),[c,C]=s.useState(g),[t,u]=s.useState("icon"),h=n=>{C(n),m(n)},f=n=>{i(n),p(n)},j=n=>{t==="icon"?f(n):h(n)};return e.jsxs(l,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[e.jsxs(S,{variant:"outlined","aria-label":"outlined button group",sx:{mb:1},children:[e.jsx(d,{onClick:()=>u("icon"),color:"primary",variant:t==="icon"?"contained":"outlined",children:"Icon"}),e.jsx(d,{onClick:()=>u("background"),color:"secondary",variant:t==="background"?"contained":"outlined",children:"Background"})]}),e.jsx(w,{color:a,onChange:j})]})},A=({tool:p,id:x,tabId:m,side:g})=>{const a=T(),i=D(W(p,x)),[c,C]=s.useState(i.icon),[t,u]=s.useState(i.icon.color),[h,f]=s.useState(i.icon.backgroundColor||"#fbf7ef"),j=(o,r)=>{C(r)},n=o=>{f(o)},b=o=>{u(o)},y=()=>{a(z({}))},v=()=>{const o={...c,color:t,backgroundColor:h};a(E({id:x,tool:p,keypath:"icon",updates:o})),a(M({tabId:m,side:g,keypath:"viewState.isDirty",updates:!0})),y()},B=s.useMemo(()=>[...L].sort((o,r)=>o.name.localeCompare(r.name)),[]);return e.jsxs(l,{sx:{display:"grid",gap:1,gridTemplateColumns:"repeat(6, 1fr)",width:"100%",minWidth:["100%",800]},children:[e.jsxs(l,{sx:{my:2,display:"flex",alignItems:"center",justifyContent:"space-around",gap:1,gridColumn:"span 6"},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:1,flexDirection:"column"},children:[e.jsx(k,{children:"Selected Icon:"}),e.jsx(I,{viewBox:c.viewBox,path:c.d,size:48,color:t,backgroundColor:h,mode:"preview"})]}),e.jsx(H,{sourceColor:t,onChange:b,onBackgroundChange:n})]}),B.map((o,r)=>o.name!==c.name&&e.jsx(G,{sx:{display:"flex",justifyContent:"center"},children:e.jsxs(d,{onClick:()=>j(null,o),sx:{display:"flex",justifyContent:"center",width:["60px","80px","100px"],height:["60px","80px","100px"],position:"relative"},children:[e.jsx(I,{viewBox:o.viewBox,path:o.d,size:48,color:t,mode:"preview"}),e.jsx(k,{variant:"caption",sx:{position:"absolute",bottom:0,display:{xs:"none",md:"block"},fontSize:"0.75rem"},children:o.name})]})},r)),e.jsxs(l,{sx:{gridColumn:"span 6",display:"flex",justifyContent:"center"},children:[e.jsx(d,{variant:"outlined",sx:{width:"50%",mt:2},onClick:y,children:"Cancel"}),e.jsx(d,{variant:"contained",sx:{width:"50%",mt:2},onClick:v,children:"Confirm"})]})]})};export{A as default};
