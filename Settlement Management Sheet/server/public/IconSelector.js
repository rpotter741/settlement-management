import{r as t,j as e,B as l,q as b,d,Z as v,u as S,w,x as z,T as y,y as T,z as D}from"./main.js";import{I as k,C as E}from"./Icon.js";import{i as M}from"./iconList.js";const L=({onChange:x,sourceColor:p="#000",onBackgroundChange:u=()=>{},bgColor:c="light"})=>{const[s,m]=t.useState(p),[i,g]=t.useState(c),[a,h]=t.useState("icon"),C=n=>{g(n),u(n)},f=n=>{m(n),x(n)},j=n=>{a==="icon"?f(n):C(n)};return e.jsxs(l,{sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[e.jsxs(b,{variant:"outlined","aria-label":"outlined button group",sx:{mb:1},children:[e.jsx(d,{onClick:()=>h("icon"),color:"primary",variant:a==="icon"?"contained":"outlined",children:"Icon"}),e.jsx(d,{onClick:()=>h("background"),color:"secondary",variant:a==="background"?"contained":"outlined",children:"Background"})]}),e.jsx(v,{color:s,onChange:j})]})},R=({tool:x,id:p})=>{const u=S(),c=w(z(x,p)),[s,m]=t.useState(c.icon),[i,g]=t.useState(c.icon.color),[a,h]=t.useState(c.icon.backgroundColor||"#fbf7ef"),C=(o,r)=>{m(r)},f=o=>{h(o)},j=o=>{g(o)},n=()=>{u(T({}))},I=()=>{const o={...s,color:i,backgroundColor:a};u(D({id:p,tool:x,keypath:"icon",updates:o})),n()},B=t.useMemo(()=>[...M].sort((o,r)=>o.name.localeCompare(r.name)),[]);return e.jsxs(l,{sx:{display:"grid",gap:1,gridTemplateColumns:"repeat(6, 1fr)",width:"100%",minWidth:["100%",800]},children:[e.jsxs(l,{sx:{my:2,display:"flex",alignItems:"center",justifyContent:"space-around",gap:1,gridColumn:"span 6"},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:1,flexDirection:"column"},children:[e.jsx(y,{children:"Selected Icon:"}),e.jsx(k,{viewBox:s.viewBox,path:s.d,size:48,color:i,backgroundColor:a,mode:"preview"})]}),e.jsx(L,{sourceColor:i,onChange:j,onBackgroundChange:f})]}),B.map((o,r)=>o.name!==s.name&&e.jsx(E,{sx:{display:"flex",justifyContent:"center"},children:e.jsxs(d,{onClick:()=>C(null,o),sx:{display:"flex",justifyContent:"center",width:["60px","80px","100px"],height:["60px","80px","100px"],position:"relative"},children:[e.jsx(k,{viewBox:o.viewBox,path:o.d,size:48,color:i,mode:"preview"}),e.jsx(y,{variant:"caption",sx:{position:"absolute",bottom:0,display:{xs:"none",md:"block"},fontSize:"0.75rem"},children:o.name})]})},r)),e.jsxs(l,{sx:{gridColumn:"span 6",display:"flex",justifyContent:"center"},children:[e.jsx(d,{variant:"outlined",sx:{width:"50%",mt:2},onClick:n,children:"Cancel"}),e.jsx(d,{variant:"contained",sx:{width:"50%",mt:2},onClick:I,children:"Confirm"})]})]})};export{R as default};
