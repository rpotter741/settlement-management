import{F as Me,j as d,r as u,a as ct,bM as Re,bN as Pe,y as Ae,z as ke,u as Le,aR as je,aS as J,s as D,c as z,d as ze,B as ut,bq as dt,aM as ne,q as j,m as De,aN as ht,i as He,b4 as ft,R as pt,A as bt,M as vt}from"./main.js";import{u as mt}from"./PageBox.js";const gt=Me(d.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),St=Me(d.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function wt(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function xt(e,o,n,a={},s=()=>{}){const{ease:c=wt,duration:p=300}=a;let h=null;const b=o[e];let T=!1;const v=()=>{T=!0},x=m=>{if(T){s(new Error("Animation cancelled"));return}h===null&&(h=m);const I=Math.min(1,(m-h)/p);if(o[e]=c(I)*(n-b)+b,I>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(x)};return b===n?(s(new Error("Element already at target position")),v):(requestAnimationFrame(x),v)}const yt={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Bt(e){const{onChange:o,...n}=e,a=u.useRef(),s=u.useRef(null),c=()=>{a.current=s.current.offsetHeight-s.current.clientHeight};return ct(()=>{const p=Re(()=>{const b=a.current;c(),b!==a.current&&o(a.current)}),h=Pe(s.current);return h.addEventListener("resize",p),()=>{p.clear(),h.removeEventListener("resize",p)}},[o]),u.useEffect(()=>{c(),o(a.current)},[o]),d.jsx("div",{style:yt,...n,ref:s})}function Et(e){return ke("MuiTabScrollButton",e)}const Tt=Ae("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Ct=e=>{const{classes:o,orientation:n,disabled:a}=e;return ze({root:["root",n,a&&"disabled"]},Et,o)},It=D(ut,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,n.orientation&&o[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Tt.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Mt=u.forwardRef(function(o,n){const a=Le({props:o,name:"MuiTabScrollButton"}),{className:s,slots:c={},slotProps:p={},direction:h,orientation:b,disabled:T,...v}=a,x=je(),m={isRtl:x,...a},I=Ct(m),W=c.StartScrollButtonIcon??gt,K=c.EndScrollButtonIcon??St,y=J({elementType:W,externalSlotProps:p.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m}),le=J({elementType:K,externalSlotProps:p.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:m});return d.jsx(It,{component:"div",className:z(I.root,s),ref:n,role:null,ownerState:m,tabIndex:null,...v,style:{...v.style,...b==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${x?-90:90}deg)`}},children:h==="left"?d.jsx(W,{...y}):d.jsx(K,{...le})})});function Rt(e){return ke("MuiTabs",e)}const se=Ae("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Te=(e,o)=>e===o?e.firstChild:o&&o.nextElementSibling?o.nextElementSibling:e.firstChild,Ce=(e,o)=>e===o?e.lastChild:o&&o.previousElementSibling?o.previousElementSibling:e.lastChild,G=(e,o,n)=>{let a=!1,s=n(e,o);for(;s;){if(s===e.firstChild){if(a)return;a=!0}const c=s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||c)s=n(e,s);else{s.focus();return}}},Pt=e=>{const{vertical:o,fixed:n,hideScrollbar:a,scrollableX:s,scrollableY:c,centered:p,scrollButtonsHideMobile:h,classes:b}=e;return ze({root:["root",o&&"vertical"],scroller:["scroller",n&&"fixed",a&&"hideScrollbar",s&&"scrollableX",c&&"scrollableY"],list:["list","flexContainer",o&&"flexContainerVertical",o&&"vertical",p&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",h&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[a&&"hideScrollbar"]},Rt,b)},At=D("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[{[`& .${se.scrollButtons}`]:o.scrollButtons},{[`& .${se.scrollButtons}`]:n.scrollButtonsHideMobile&&o.scrollButtonsHideMobile},o.root,n.vertical&&o.vertical]}})(De(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:o})=>o.vertical,style:{flexDirection:"column"}},{props:({ownerState:o})=>o.scrollButtonsHideMobile,style:{[`& .${se.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),kt=D("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.scroller,n.fixed&&o.fixed,n.hideScrollbar&&o.hideScrollbar,n.scrollableX&&o.scrollableX,n.scrollableY&&o.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Lt=D("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.list,o.flexContainer,n.vertical&&o.flexContainerVertical,n.centered&&o.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),jt=D("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,o)=>o.indicator})(De(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:o})=>o.vertical,style:{height:"100%",width:2,right:0}}]}))),zt=D(Bt)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Ie={},Dt=u.forwardRef(function(o,n){const a=Le({props:o,name:"MuiTabs"}),s=dt(),c=je(),{"aria-label":p,"aria-labelledby":h,action:b,centered:T=!1,children:v,className:x,component:m="div",allowScrollButtonsMobile:I=!1,indicatorColor:W="primary",onChange:K,orientation:y="horizontal",ScrollButtonComponent:le,scrollButtons:k="auto",selectionFollowsFocus:Fe,slots:M={},slotProps:Q={},TabIndicatorProps:ie={},TabScrollButtonProps:ae={},textColor:ce="primary",value:$,variant:Z="standard",visibleScrollbar:_=!1,...Xe}=a,S=Z==="scrollable",g=y==="vertical",H=g?"scrollTop":"scrollLeft",q=g?"top":"left",Y=g?"bottom":"right",ee=g?"clientHeight":"clientWidth",F=g?"height":"width",B={...a,component:m,allowScrollButtonsMobile:I,indicatorColor:W,orientation:y,vertical:g,scrollButtons:k,textColor:ce,variant:Z,visibleScrollbar:_,fixed:!S,hideScrollbar:S&&!_,scrollableX:S&&!g,scrollableY:S&&g,centered:T&&!S,scrollButtonsHideMobile:!I},C=Pt(B),Ne=J({elementType:M.StartScrollButtonIcon,externalSlotProps:Q.startScrollButtonIcon,ownerState:B}),We=J({elementType:M.EndScrollButtonIcon,externalSlotProps:Q.endScrollButtonIcon,ownerState:B}),[ue,Ke]=u.useState(!1),[R,de]=u.useState(Ie),[he,$e]=u.useState(!1),[fe,qe]=u.useState(!1),[pe,Ye]=u.useState(!1),[be,Oe]=u.useState({overflow:"hidden",scrollbarWidth:0}),ve=new Map,E=u.useRef(null),P=u.useRef(null),L={slots:M,slotProps:{indicator:ie,scrollButton:ae,...Q}},me=()=>{const t=E.current;let r;if(t){const i=t.getBoundingClientRect();r={clientWidth:t.clientWidth,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,scrollWidth:t.scrollWidth,top:i.top,bottom:i.bottom,left:i.left,right:i.right}}let l;if(t&&$!==!1){const i=P.current.children;if(i.length>0){const f=i[ve.get($)];l=f?f.getBoundingClientRect():null}}return{tabsMeta:r,tabMeta:l}},X=ne(()=>{const{tabsMeta:t,tabMeta:r}=me();let l=0,i;g?(i="top",r&&t&&(l=r.top-t.top+t.scrollTop)):(i=c?"right":"left",r&&t&&(l=(c?-1:1)*(r[i]-t[i]+t.scrollLeft)));const f={[i]:l,[F]:r?r[F]:0};if(typeof R[i]!="number"||typeof R[F]!="number")de(f);else{const w=Math.abs(R[i]-f[i]),A=Math.abs(R[F]-f[F]);(w>=1||A>=1)&&de(f)}}),te=(t,{animation:r=!0}={})=>{r?xt(H,E.current,t,{duration:s.transitions.duration.standard}):E.current[H]=t},ge=t=>{let r=E.current[H];g?r+=t:r+=t*(c?-1:1),te(r)},Se=()=>{const t=E.current[ee];let r=0;const l=Array.from(P.current.children);for(let i=0;i<l.length;i+=1){const f=l[i];if(r+f[ee]>t){i===0&&(r=t);break}r+=f[ee]}return r},Ue=()=>{ge(-1*Se())},Ve=()=>{ge(Se())},[Ge,{onChange:O,...Je}]=j("scrollbar",{className:z(C.scrollableX,C.hideScrollbar),elementType:zt,shouldForwardComponentProp:!0,externalForwardedProps:L,ownerState:B}),Qe=u.useCallback(t=>{O==null||O(t),Oe({overflow:null,scrollbarWidth:t})},[O]),[we,xe]=j("scrollButtons",{className:z(C.scrollButtons,ae.className),elementType:Mt,externalForwardedProps:L,ownerState:B,additionalProps:{orientation:y,slots:{StartScrollButtonIcon:M.startScrollButtonIcon||M.StartScrollButtonIcon,EndScrollButtonIcon:M.endScrollButtonIcon||M.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:Ne,endScrollButtonIcon:We}}}),Ze=()=>{const t={};t.scrollbarSizeListener=S?d.jsx(Ge,{...Je,onChange:Qe}):null;const l=S&&(k==="auto"&&(he||fe)||k===!0);return t.scrollButtonStart=l?d.jsx(we,{direction:c?"right":"left",onClick:Ue,disabled:!he,...xe}):null,t.scrollButtonEnd=l?d.jsx(we,{direction:c?"left":"right",onClick:Ve,disabled:!fe,...xe}):null,t},ye=ne(t=>{const{tabsMeta:r,tabMeta:l}=me();if(!(!l||!r)){if(l[q]<r[q]){const i=r[H]+(l[q]-r[q]);te(i,{animation:t})}else if(l[Y]>r[Y]){const i=r[H]+(l[Y]-r[Y]);te(i,{animation:t})}}}),U=ne(()=>{S&&k!==!1&&Ye(!pe)});u.useEffect(()=>{const t=Re(()=>{E.current&&X()});let r;const l=w=>{w.forEach(A=>{A.removedNodes.forEach(N=>{r==null||r.unobserve(N)}),A.addedNodes.forEach(N=>{r==null||r.observe(N)})}),t(),U()},i=Pe(E.current);i.addEventListener("resize",t);let f;return typeof ResizeObserver<"u"&&(r=new ResizeObserver(t),Array.from(P.current.children).forEach(w=>{r.observe(w)})),typeof MutationObserver<"u"&&(f=new MutationObserver(l),f.observe(P.current,{childList:!0})),()=>{t.clear(),i.removeEventListener("resize",t),f==null||f.disconnect(),r==null||r.disconnect()}},[X,U]),u.useEffect(()=>{const t=Array.from(P.current.children),r=t.length;if(typeof IntersectionObserver<"u"&&r>0&&S&&k!==!1){const l=t[0],i=t[r-1],f={root:E.current,threshold:.99},w=re=>{$e(!re[0].isIntersecting)},A=new IntersectionObserver(w,f);A.observe(l);const N=re=>{qe(!re[0].isIntersecting)},Ee=new IntersectionObserver(N,f);return Ee.observe(i),()=>{A.disconnect(),Ee.disconnect()}}},[S,k,pe,v==null?void 0:v.length]),u.useEffect(()=>{Ke(!0)},[]),u.useEffect(()=>{X()}),u.useEffect(()=>{ye(Ie!==R)},[ye,R]),u.useImperativeHandle(b,()=>({updateIndicator:X,updateScrollButtons:U}),[X,U]);const[_e,et]=j("indicator",{className:z(C.indicator,ie.className),elementType:jt,externalForwardedProps:L,ownerState:B,additionalProps:{style:R}}),Be=d.jsx(_e,{...et});let V=0;const tt=u.Children.map(v,t=>{if(!u.isValidElement(t))return null;const r=t.props.value===void 0?V:t.props.value;ve.set(r,V);const l=r===$;return V+=1,u.cloneElement(t,{fullWidth:Z==="fullWidth",indicator:l&&!ue&&Be,selected:l,selectionFollowsFocus:Fe,onChange:K,textColor:ce,value:r,...V===1&&$===!1&&!t.props.tabIndex?{tabIndex:0}:{}})}),ot=t=>{if(t.altKey||t.shiftKey||t.ctrlKey||t.metaKey)return;const r=P.current,l=ht(r).activeElement;if(l.getAttribute("role")!=="tab")return;let f=y==="horizontal"?"ArrowLeft":"ArrowUp",w=y==="horizontal"?"ArrowRight":"ArrowDown";switch(y==="horizontal"&&c&&(f="ArrowRight",w="ArrowLeft"),t.key){case f:t.preventDefault(),G(r,l,Ce);break;case w:t.preventDefault(),G(r,l,Te);break;case"Home":t.preventDefault(),G(r,null,Te);break;case"End":t.preventDefault(),G(r,null,Ce);break}},oe=Ze(),[rt,nt]=j("root",{ref:n,className:z(C.root,x),elementType:At,externalForwardedProps:{...L,...Xe,component:m},ownerState:B}),[st,lt]=j("scroller",{ref:E,className:C.scroller,elementType:kt,externalForwardedProps:L,ownerState:B,additionalProps:{style:{overflow:be.overflow,[g?`margin${c?"Left":"Right"}`:"marginBottom"]:_?void 0:-be.scrollbarWidth}}}),[it,at]=j("list",{ref:P,className:z(C.list,C.flexContainer),elementType:Lt,externalForwardedProps:L,ownerState:B,getSlotProps:t=>({...t,onKeyDown:r=>{var l;ot(r),(l=t.onKeyDown)==null||l.call(t,r)}})});return d.jsxs(rt,{...nt,children:[oe.scrollButtonStart,oe.scrollbarSizeListener,d.jsxs(st,{...lt,children:[d.jsx(it,{"aria-label":p,"aria-labelledby":h,"aria-orientation":y==="vertical"?"vertical":null,role:"tablist",...at,children:tt}),ue&&Be]}),oe.scrollButtonEnd]})}),Ht={flammable:{enabled:!1,tooltip:"Vulnerable to fire.",eventTags:[{name:"Fire",description:"Events which involve fire or burning.",weight:1},{name:"Arson",description:"Events which involve intentional fire damage.",weight:.75}]},durable:{enabled:!1,tooltip:"Resistant to damage or wear.",eventTags:[{name:"Infrastructure",description:"Events which affect the durability of structures or resources.",weight:1},{name:"Maintenance",description:"Events which require upkeep or repair of structures or resources.",weight:1}]},perishable:{enabled:!1,tooltip:"Degrades over time without proper storage.",eventTags:[{name:"Famine",description:"A shortage of food or other perishable resources consumed for survival.",weight:1},{name:"Spoilage",description:"A loss of resources due to improper storage or handling.",weight:1}]},valuable:{enabled:!1,tooltip:"High worth; a frequent target for theft or trade.",eventTags:[{name:"Theft",description:"Events which involve the loss of valuable resources.",weight:1},{name:"Trade",description:"Events which involve the exchange of valuable resources.",weight:1}]},renewable:{enabled:!1,tooltip:"Can replenish naturally over time.",eventTags:[{name:"Harvest",description:"Events which involve the collection of renewable resources.",weight:1},{name:"Replanting",description:"Events which involve the restoration of renewable resources.",weight:1}]},scarce:{enabled:!1,tooltip:"Difficult to obtain or maintain in this region.",eventTags:[{name:"Scarcity",description:"Events which involve a shortage of scarce resources.",weight:1},{name:"Rationing",description:"Events which involve the controlled distribution of scarce resources.",weight:1},{name:"Surplus",description:"Events which involve an excess of scarce resources.",weight:.5}]},agricultural:{enabled:!1,tooltip:"Tied to farming or rural industries.",eventTags:[{name:"Harvest",description:"Events which involve the collection of agricultural resources.",weight:1},{name:"Planting",description:"Events which involve the cultivation of agricultural resources.",weight:1}]},industrial:{enabled:!1,tooltip:"Related to manufacturing or heavy labor.",eventTags:[{name:"Industrial Accident",description:"Events which involve the loss of life or resources due to industrial activity.",weight:1},{name:"Labor Shortage",description:"Events which involve a lack of ready or willing workers",weight:1}]},arcane:{enabled:!1,tooltip:"Linked to magic or the supernatural.",eventTags:[{name:"Magic",description:"Events which involve the use of arcane resources.",weight:1},{name:"Curses",description:"Events which involve the misuse or backlash of arcane resources.",weight:1}]},religious:{enabled:!1,tooltip:"A resource important to faith or rituals.",eventTags:[{name:"Religious Ceremony",description:"Events which involve the use of religious resources.",weight:1},{name:"Sacrifice",description:"Events which involve the loss of religious resources.",weight:1}]},exotic:{enabled:!1,tooltip:"Uncommon or unique to the region.",eventTags:[{name:"Exotic Trade",description:"Events which involve the exchange of rare or unique resources.",weight:1},{name:"Discovery",description:"Events which involve the identification of rare or unique resources.",weight:1}]},edible:{enabled:!1,tooltip:"Can be consumed for survival.",eventTags:[{name:"Feast",description:"Events which involve the consumption of edible resources.",weight:1},{name:"Famine",description:"A shortage of food or other perishable resources consumed for survival.",weight:1},{name:"Plague",description:"Events which involve the spread of disease.",weight:1}]},toxic:{enabled:!1,tooltip:"Harmful if improperly handled or consumed.",eventTags:[{name:"Poisoning",description:"Events which involve the harmful effects of toxic resources.",weight:1},{name:"Contamination",description:"Events which involve the spread of toxic resources.",weight:1}]},strategic:{enabled:!1,tooltip:"Important in warfare or diplomacy.",eventTags:[{name:"War",description:"Events which involve the use of strategic resources.",weight:1},{name:"Diplomacy",description:"Events which involve the use of strategic resources.",weight:1}]},contested:{enabled:!1,tooltip:"Frequently the focus of disputes or events.",eventTags:[{name:"Conflict",description:"Events which involve the use of contested resources.",weight:1},{name:"Dispute",description:"Events which involve the use of contested resources.",weight:1}]}},Kt=()=>{const[e,o]=u.useState(Ht);return d.jsx(He,{sx:{padding:2,boxShadow:4,borderRadius:4,backgroundColor:"background.default",mt:3},children:"I'll be tags one day!"})},Ft=({tabs:e,activeTab:o,handleTabClick:n=()=>{},topBorder:a=!1,color:s="primary",isTool:c=!0})=>{const{tool:p}=c?mt():{tool:"default"};return d.jsx(Dt,{textColor:s,indicatorColor:s,id:`${p}-tab-header-box`,value:o,centered:!0,onChange:()=>{},sx:{width:"100%",borderBottom:1,borderTop:a?1:0,borderColor:"divider",boxSizing:"border-box",mb:2,mt:1,position:"sticky",top:0,zIndex:10,opacity:1,backgroundColor:"background.default"},children:e.map((h,b)=>h.disabled?null:d.jsx(ft,{id:`tab-header-${h.name}`,sx:{flex:1,transition:"width 0.3s ease-in-out"},label:h.name,value:h.name,onClick:()=>{n(h.name,b)}},h.name))})},Xt=pt.memo(({children:e,activeTab:o,tabName:n,columns:a,index:s=0,lastIndex:c=0})=>{const p=o===n,h=s===c;if(!p)return null;const b=s>c?1:-1;return h?d.jsx(He,{id:`tab-panel-${n}`,sx:{height:"90%",width:"100%",display:"flex",flexDirection:"column",gridColumn:`span ${a}`},children:e}):d.jsx(bt,{mode:"wait",children:d.jsx(vt,{id:`tab-panel-${n}`,initial:{x:b*100+"%",opacity:0},animate:{x:"0%",opacity:1},exit:{x:-b*100+"%",opacity:0},transition:{duration:.3,ease:"easeInOut"},sx:{gridColumn:`span ${a}`,height:"90%",overflowX:"hidden"},children:e},n)})}),$t=({tabs:e,componentMap:o,activeTab:n,handleTabClick:a,lastIndex:s,columns:c=3,topBorder:p=!1,color:h="primary",isTool:b=!0})=>{const T=u.useMemo(()=>e.map((v,x)=>{if(v.name!==n)return null;const m=o[v.name];return d.jsx(Xt,{activeTab:n,tabName:v.name,columns:c,index:x,lastIndex:s,children:d.jsx(m,{columns:c,...v.props})},v.name)}),[e,n,o,c,s]);return d.jsxs(d.Fragment,{children:[d.jsx(Ft,{tabs:e,activeTab:n,handleTabClick:a,topBorder:p,color:h,isTool:b}),T]})};export{Kt as A,$t as T};
