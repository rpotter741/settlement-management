import{c as we,g as Ce,r as X,u as Te,j as C,s as Ie,d as Ee,f as ke,P as qe,q as ae,B as ne,M as De,N as Ae,O as $e,Q as We,t as je,a as ce,p as ze,I as Xe,v as Ze}from"./main.js";import{M as ge}from"./CreateShell.js";function He(s){return we("MuiCard",s)}Ce("MuiCard",["root"]);const Ge=s=>{const{classes:a}=s;return ke({root:["root"]},He,a)},Qe=Ie(qe,{name:"MuiCard",slot:"Root",overridesResolver:(s,a)=>a.root})({overflow:"hidden"}),Je=X.forwardRef(function(a,x){const f=Te({props:a,name:"MuiCard"}),{className:M,raised:T=!1,...j}=f,h={...f,raised:T},k=Ge(h);return C.jsx(Qe,{className:Ee(k.root,M),elevation:T?8:void 0,ref:x,ownerState:h,...j})});function Ke(s){return we("MuiCardContent",s)}Ce("MuiCardContent",["root"]);const Ye=s=>{const{classes:a}=s;return ke({root:["root"]},Ke,a)},er=Ie("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(s,a)=>a.root})({padding:16,"&:last-child":{paddingBottom:24}}),rr=X.forwardRef(function(a,x){const f=Te({props:a,name:"MuiCardContent"}),{className:M,component:T="div",...j}=f,h={...f,component:T},k=Ye(h);return C.jsx(er,{as:T,className:Ee(k.root,M),ownerState:h,ref:x,...j})}),gr=({viewBox:s,path:a,size:x=24,color:f="currentColor",mode:M="box",label:T})=>M==="card"?C.jsx(Je,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:1,p:2,cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.05)"}},children:C.jsxs(rr,{children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:s,width:x,height:x,fill:f,children:C.jsx("path",{d:a})}),T&&C.jsx(ae,{variant:"body2",sx:{mt:1,textAlign:"center"},children:T})]})}):C.jsx(ne,{sx:{p:1,display:"flex",alignItems:"center"},children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:s,width:x,height:x,fill:f,children:C.jsx("path",{d:a})})});var oe,pe;function ar(){if(pe)return oe;pe=1;var s=De(),a=function(){return s.Date.now()};return oe=a,oe}var se,xe;function nr(){if(xe)return se;xe=1;var s=/\s/;function a(x){for(var f=x.length;f--&&s.test(x.charAt(f)););return f}return se=a,se}var ie,Me;function tr(){if(Me)return ie;Me=1;var s=nr(),a=/^\s+/;function x(f){return f&&f.slice(0,s(f)+1).replace(a,"")}return ie=x,ie}var le,be;function or(){if(be)return le;be=1;var s=tr(),a=Ae(),x=$e(),f=NaN,M=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,j=/^0o[0-7]+$/i,h=parseInt;function k(u){if(typeof u=="number")return u;if(x(u))return f;if(a(u)){var i=typeof u.valueOf=="function"?u.valueOf():u;u=a(i)?i+"":i}if(typeof u!="string")return u===0?u:+u;u=s(u);var t=T.test(u);return t||j.test(u)?h(u.slice(2),t?2:8):M.test(u)?f:+u}return le=k,le}var de,ye;function sr(){if(ye)return de;ye=1;var s=Ae(),a=ar(),x=or(),f="Expected a function",M=Math.max,T=Math.min;function j(h,k,u){var i,t,O,w,P,V,y=0,H=!1,D=!1,_=!0;if(typeof h!="function")throw new TypeError(f);k=x(k)||0,s(u)&&(H=!!u.leading,D="maxWait"in u,O=D?M(x(u.maxWait)||0,k):O,_="trailing"in u?!!u.trailing:_);function J(I){var $=i,G=t;return i=t=void 0,y=I,w=h.apply(G,$),w}function Y(I){return y=I,P=setTimeout(d,k),H?J(I):w}function ee(I){var $=I-V,G=I-y,re=k-$;return D?T(re,O-G):re}function v(I){var $=I-V,G=I-y;return V===void 0||$>=k||$<0||D&&G>=O}function d(){var I=a();if(v(I))return N(I);P=setTimeout(d,ee(I))}function N(I){return P=void 0,_&&i?J(I):(i=t=void 0,w)}function F(){P!==void 0&&clearTimeout(P),y=0,i=V=t=P=void 0}function q(){return P===void 0?w:N(a())}function L(){var I=a(),$=v(I);if(i=arguments,t=this,V=I,$){if(P===void 0)return Y(V);if(D)return clearTimeout(P),P=setTimeout(d,k),J(V)}return P===void 0&&(P=setTimeout(d,k)),w}return L.cancel=F,L.flush=q,L}return de=j,de}var ir=sr();const lr=We(ir);var he={};(function s(a,x,f,M){var T=!!(a.Worker&&a.Blob&&a.Promise&&a.OffscreenCanvas&&a.OffscreenCanvasRenderingContext2D&&a.HTMLCanvasElement&&a.HTMLCanvasElement.prototype.transferControlToOffscreen&&a.URL&&a.URL.createObjectURL),j=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=function(){if(!a.OffscreenCanvas)return!1;var r=new OffscreenCanvas(1,1),e=r.getContext("2d");e.fillRect(0,0,1,1);var n=r.transferToImageBitmap();try{e.createPattern(n,"no-repeat")}catch{return!1}return!0}();function k(){}function u(r){var e=x.exports.Promise,n=e!==void 0?e:a.Promise;return typeof n=="function"?new n(r):(r(k,k),null)}var i=function(r,e){return{transform:function(n){if(r)return n;if(e.has(n))return e.get(n);var l=new OffscreenCanvas(n.width,n.height),c=l.getContext("2d");return c.drawImage(n,0,0),e.set(n,l),l},clear:function(){e.clear()}}}(h,new Map),t=function(){var r=Math.floor(16.666666666666668),e,n,l={},c=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(m){var g=Math.random();return l[g]=requestAnimationFrame(function o(p){c===p||c+r-1<p?(c=p,delete l[g],m()):l[g]=requestAnimationFrame(o)}),g},n=function(m){l[m]&&cancelAnimationFrame(l[m])}):(e=function(m){return setTimeout(m,r)},n=function(m){return clearTimeout(m)}),{frame:e,cancel:n}}(),O=function(){var r,e,n={};function l(c){function m(g,o){c.postMessage({options:g||{},callback:o})}c.init=function(o){var p=o.transferControlToOffscreen();c.postMessage({canvas:p},[p])},c.fire=function(o,p,E){if(e)return m(o,null),e;var S=Math.random().toString(36).slice(2);return e=u(function(A){function R(U){U.data.callback===S&&(delete n[S],c.removeEventListener("message",R),e=null,i.clear(),E(),A())}c.addEventListener("message",R),m(o,S),n[S]=R.bind(null,{data:{callback:S}})}),e},c.reset=function(){c.postMessage({reset:!0});for(var o in n)n[o](),delete n[o]}}return function(){if(r)return r;if(!f&&T){var c=["var CONFETTI, SIZE = {}, module = {};","("+s.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{r=new Worker(URL.createObjectURL(new Blob([c])))}catch(m){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",m),null}l(r)}return r}}(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function P(r,e){return e?e(r):r}function V(r){return r!=null}function y(r,e,n){return P(r&&V(r[e])?r[e]:w[e],n)}function H(r){return r<0?0:Math.floor(r)}function D(r,e){return Math.floor(Math.random()*(e-r))+r}function _(r){return parseInt(r,16)}function J(r){return r.map(Y)}function Y(r){var e=String(r).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:_(e.substring(0,2)),g:_(e.substring(2,4)),b:_(e.substring(4,6))}}function ee(r){var e=y(r,"origin",Object);return e.x=y(e,"x",Number),e.y=y(e,"y",Number),e}function v(r){r.width=document.documentElement.clientWidth,r.height=document.documentElement.clientHeight}function d(r){var e=r.getBoundingClientRect();r.width=e.width,r.height=e.height}function N(r){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=r,e}function F(r,e,n,l,c,m,g,o,p){r.save(),r.translate(e,n),r.rotate(m),r.scale(l,c),r.arc(0,0,1,g,o,p),r.restore()}function q(r){var e=r.angle*(Math.PI/180),n=r.spread*(Math.PI/180);return{x:r.x,y:r.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:r.startVelocity*.5+Math.random()*r.startVelocity,angle2D:-e+(.5*n-Math.random()*n),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:r.color,shape:r.shape,tick:0,totalTicks:r.ticks,decay:r.decay,drift:r.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:r.gravity*3,ovalScalar:.6,scalar:r.scalar,flat:r.flat}}function L(r,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var n=e.tick++/e.totalTicks,l=e.x+e.random*e.tiltCos,c=e.y+e.random*e.tiltSin,m=e.wobbleX+e.random*e.tiltCos,g=e.wobbleY+e.random*e.tiltSin;if(r.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-n)+")",r.beginPath(),j&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))r.fill(Se(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(m-l)*.1,Math.abs(g-c)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var o=Math.PI/10*e.wobble,p=Math.abs(m-l)*.1,E=Math.abs(g-c)*.1,S=e.shape.bitmap.width*e.scalar,A=e.shape.bitmap.height*e.scalar,R=new DOMMatrix([Math.cos(o)*p,Math.sin(o)*p,-Math.sin(o)*E,Math.cos(o)*E,e.x,e.y]);R.multiplySelf(new DOMMatrix(e.shape.matrix));var U=r.createPattern(i.transform(e.shape.bitmap),"no-repeat");U.setTransform(R),r.globalAlpha=1-n,r.fillStyle=U,r.fillRect(e.x-S/2,e.y-A/2,S,A),r.globalAlpha=1}else if(e.shape==="circle")r.ellipse?r.ellipse(e.x,e.y,Math.abs(m-l)*e.ovalScalar,Math.abs(g-c)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):F(r,e.x,e.y,Math.abs(m-l)*e.ovalScalar,Math.abs(g-c)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var b=Math.PI/2*3,B=4*e.scalar,W=8*e.scalar,z=e.x,Q=e.y,K=5,Z=Math.PI/K;K--;)z=e.x+Math.cos(b)*W,Q=e.y+Math.sin(b)*W,r.lineTo(z,Q),b+=Z,z=e.x+Math.cos(b)*B,Q=e.y+Math.sin(b)*B,r.lineTo(z,Q),b+=Z;else r.moveTo(Math.floor(e.x),Math.floor(e.y)),r.lineTo(Math.floor(e.wobbleX),Math.floor(c)),r.lineTo(Math.floor(m),Math.floor(g)),r.lineTo(Math.floor(l),Math.floor(e.wobbleY));return r.closePath(),r.fill(),e.tick<e.totalTicks}function I(r,e,n,l,c){var m=e.slice(),g=r.getContext("2d"),o,p,E=u(function(S){function A(){o=p=null,g.clearRect(0,0,l.width,l.height),i.clear(),c(),S()}function R(){f&&!(l.width===M.width&&l.height===M.height)&&(l.width=r.width=M.width,l.height=r.height=M.height),!l.width&&!l.height&&(n(r),l.width=r.width,l.height=r.height),g.clearRect(0,0,l.width,l.height),m=m.filter(function(U){return L(g,U)}),m.length?o=t.frame(R):A()}o=t.frame(R),p=A});return{addFettis:function(S){return m=m.concat(S),E},canvas:r,promise:E,reset:function(){o&&t.cancel(o),p&&p()}}}function $(r,e){var n=!r,l=!!y(e||{},"resize"),c=!1,m=y(e,"disableForReducedMotion",Boolean),g=T&&!!y(e||{},"useWorker"),o=g?O():null,p=n?v:d,E=r&&o?!!r.__confetti_initialized:!1,S=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,A;function R(b,B,W){for(var z=y(b,"particleCount",H),Q=y(b,"angle",Number),K=y(b,"spread",Number),Z=y(b,"startVelocity",Number),Ne=y(b,"decay",Number),Oe=y(b,"gravity",Number),Fe=y(b,"drift",Number),ue=y(b,"colors",J),Le=y(b,"ticks",Number),me=y(b,"shapes"),Ue=y(b,"scalar"),Ve=!!y(b,"flat"),fe=ee(b),ve=z,te=[],Be=r.width*fe.x,_e=r.height*fe.y;ve--;)te.push(q({x:Be,y:_e,angle:Q,spread:K,startVelocity:Z,color:ue[ve%ue.length],shape:me[D(0,me.length)],ticks:Le,decay:Ne,gravity:Oe,drift:Fe,scalar:Ue,flat:Ve}));return A?A.addFettis(te):(A=I(r,te,p,B,W),A.promise)}function U(b){var B=m||y(b,"disableForReducedMotion",Boolean),W=y(b,"zIndex",Number);if(B&&S)return u(function(Z){Z()});n&&A?r=A.canvas:n&&!r&&(r=N(W),document.body.appendChild(r)),l&&!E&&p(r);var z={width:r.width,height:r.height};o&&!E&&o.init(r),E=!0,o&&(r.__confetti_initialized=!0);function Q(){if(o){var Z={getBoundingClientRect:function(){if(!n)return r.getBoundingClientRect()}};p(Z),o.postMessage({resize:{width:Z.width,height:Z.height}});return}z.width=z.height=null}function K(){A=null,l&&(c=!1,a.removeEventListener("resize",Q)),n&&r&&(document.body.contains(r)&&document.body.removeChild(r),r=null,E=!1)}return l&&!c&&(c=!0,a.addEventListener("resize",Q,!1)),o?o.fire(b,z,K):R(b,z,K)}return U.reset=function(){o&&o.reset(),A&&A.reset()},U}var G;function re(){return G||(G=$(null,{useWorker:!0,resize:!0})),G}function Se(r,e,n,l,c,m,g){var o=new Path2D(r),p=new Path2D;p.addPath(o,new DOMMatrix(e));var E=new Path2D;return E.addPath(p,new DOMMatrix([Math.cos(g)*c,Math.sin(g)*c,-Math.sin(g)*m,Math.cos(g)*m,n,l])),E}function Re(r){if(!j)throw new Error("path confetti are not supported in this browser");var e,n;typeof r=="string"?e=r:(e=r.path,n=r.matrix);var l=new Path2D(e),c=document.createElement("canvas"),m=c.getContext("2d");if(!n){for(var g=1e3,o=g,p=g,E=0,S=0,A,R,U=0;U<g;U+=2)for(var b=0;b<g;b+=2)m.isPointInPath(l,U,b,"nonzero")&&(o=Math.min(o,U),p=Math.min(p,b),E=Math.max(E,U),S=Math.max(S,b));A=E-o,R=S-p;var B=10,W=Math.min(B/A,B/R);n=[W,0,0,W,-Math.round(A/2+o)*W,-Math.round(R/2+p)*W]}return{type:"path",path:e,matrix:n}}function Pe(r){var e,n=1,l="#000000",c='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof r=="string"?e=r:(e=r.text,n="scalar"in r?r.scalar:n,c="fontFamily"in r?r.fontFamily:c,l="color"in r?r.color:l);var m=10*n,g=""+m+"px "+c,o=new OffscreenCanvas(m,m),p=o.getContext("2d");p.font=g;var E=p.measureText(e),S=Math.ceil(E.actualBoundingBoxRight+E.actualBoundingBoxLeft),A=Math.ceil(E.actualBoundingBoxAscent+E.actualBoundingBoxDescent),R=2,U=E.actualBoundingBoxLeft+R,b=E.actualBoundingBoxAscent+R;S+=R+R,A+=R+R,o=new OffscreenCanvas(S,A),p=o.getContext("2d"),p.font=g,p.fillStyle=l,p.fillText(e,U,b);var B=1/n;return{type:"bitmap",bitmap:o.transferToImageBitmap(),matrix:[B,0,0,B,-S*B/2,-A*B/2]}}x.exports=function(){return re().apply(this,arguments)},x.exports.reset=function(){re().reset()},x.exports.create=$,x.exports.shapeFromPath=Re,x.exports.shapeFromText=Pe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),he,!1);const dr=he.exports;he.exports.create;const cr=(s,a)=>{const M={...s},T=[],j=new Set;let h=Object.entries(M).map(([i,t])=>({id:i,name:t.name,max:t.max}));const k=i=>{let t=i,O=0;for(;j.has(t)&&O<200;){const w=[...j].filter(_=>_<t),P=[...j].filter(_=>_>t),V=w.length?Math.max(...w):-1/0,y=P.length?Math.min(...P):1/0,H=V===-1/0?t-1:t-(V+1),D=y===1/0?100-t:y-1-t;if(H>=D&&H>0&&t>1)t--;else if(D>0&&t<100)t++;else break;t=Math.max(1,Math.min(100,t)),O++}return t},u=h.findIndex(i=>i.id===a);if(u>=0){let i=h[u],t=i.max,O=Math.max(1,Math.min(100,t)),w=k(O);w!==t&&T.push(`Threshold ${i.name} changed from ${t} to ${w} to prevent duplicates.`),i.max=w,j.add(w),h[u]=i}h.sort((i,t)=>i.max-t.max);for(let i=0;i<h.length;i++){const t=h[i];if(t.id===a)continue;const O=t.max;let w=Math.max(1,Math.min(100,O));j.has(w)&&(w=k(w)),j.has(w)&&(w=k(w)),w!==O&&T.push(`Threshold ${t.name} changed from ${O} to ${w} to prevent duplicates.`),t.max=w,j.add(w),h[i]=t}return h.forEach(i=>{M[i.id]={name:i.name,max:i.max}}),{thresholdsClone:M,changes:T}},hr=({threshold:s,errors:a,index:x,id:f,handleRemove:M,handleNameValidation:T,handleMaxValidation:j,handleNameChange:h,handleMaxChange:k,handleBalanceChange:u})=>C.jsxs(ne,{sx:{display:"flex",alignItems:"center",px:12,transition:"top 0.3s ease, left 0.3s ease",gap:2},children:[C.jsx(ge,{initialValues:{name:s.name},field:{name:"name",type:"text",value:s.name,textSx:{width:"100%"},validate:i=>i.length<3?"Name must be longer than 3 characters":null,id:f,keypath:`thresholds.${f}.name`},shrink:!0,boxSx:{width:"100%"},externalUpdate:h,parentError:a==null?void 0:a.name,onError:T}),C.jsx(ge,{initialValues:{max:s.max},field:{name:"max",label:"Value",value:s.max,type:"number",textSx:{width:"100%"},validate:i=>i<0||i>100?"Value must be between 0 and 100":null,id:f},boxSx:{width:"66%"},shrink:!0,externalUpdate:k,parentError:(a==null?void 0:a.max)||null,onError:j,onBlur:u}),M!==null&&C.jsx(je,{title:"Remove threshold",children:C.jsx(ce,{variant:"contained","aria-label":"Remove threshold",onClick:()=>M(f),sx:{px:4},children:"Remove"})})]},f),ur=X.memo(hr),pr=({tool:s,max:a=21,id:x})=>{const{edit:f,updateTool:M,validateToolField:T,errors:j}=ze(s,x),h=f.thresholds,[k,u]=X.useState(!1),{showSnackbar:i}=Xe(),[t,O]=X.useState(null),w=j.thresholds.data,P=X.useCallback(lr((v,d)=>{i(v,d)},300,{leading:!0,trailing:!1}),[i]),V=X.useCallback((v,{id:d})=>{M(`thresholds.data.${d}.max`,v),t!==d&&O(d)},[M,T,t,O]),y=X.useCallback(()=>{const{thresholdsClone:v,changes:d}=cr(h.data,t),N=[...h.order].sort((F,q)=>v[F].max-v[q].max);M("thresholds.data",v),M("thresholds.order",N),d&&d.forEach(F=>{P(F,"warning")})},[h.data,h.order,M,t,P]),H=(v,{id:d})=>{M(`thresholds.data.${d}.name`,v)},D=v=>{if(v.length===0)return 33;const d=v.order.map(L=>v.data[L]).sort((L,I)=>L.max-I.max);let N=0,F=0;for(let L=0;L<d.length-1;L++){const I=d[L+1].max-d[L].max;I>N&&(N=I,F=Math.floor((d[L+1].max+d[L].max)/2))}d[0].max>N&&(N=d[0].max,F=Math.floor(d[0].max/2));const q=100-d[d.length-1].max;return q>N&&(N=q,F=Math.floor((100+d[d.length-1].max)/2)),F},_=X.useCallback(v=>{let d={...h.data};delete d[v],M("thresholds.data",d);const F=h.order.filter(L=>L!==v);M("thresholds.order",F);const q={...w};delete q[v],T("thresholds.errors",q)},[h.data,w]),J=()=>{if(h.order.length>=a){i(`Congrats on clicking at least ${a-7} times! ${a} is the limit, friend. Hope that's enough!`,"info"),dr({particleCount:100,spread:70,origin:{y:.6}}),u(!0);return}let v={...h.data};const d=Ze();v[d]={id:d,name:"",max:D(h)};const N=[...h.order,d];N.sort((F,q)=>v[F].max-v[q].max),M("thresholds.order",N),M("thresholds.data",v),T(`thresholds.data.${d}`,{name:"Threshold name must be at least 3 characters",max:null})},Y=X.useCallback((v,{id:d})=>{T(`thresholds.data.${d}.max`,v)},[]),ee=X.useCallback((v,{id:d})=>{T(`thresholds.data.${d}.name`,v)},[]);return C.jsxs(ne,{children:[C.jsxs(ae,{variant:"h6",children:[s.charAt(0).toUpperCase()+s.slice(1)," Thresholds"]}),C.jsxs(ae,{children:["Thresholds represent ",s," state at a given percentage. They provide both narrative depth and an easy way to set"," ",C.jsx("strong",{children:"Conditions and Listeners"})," without relying on intimate knowledge of the ",s," itself."," "]}),h.order.map((v,d)=>{const N=h.data[v],F=j.thresholds.data[v];return C.jsx(ur,{threshold:N,errors:F,index:d,handleNameChange:H,handleMaxChange:V,handleMaxValidation:Y,handleNameValidation:ee,handleRemove:h.order.length>2?_:null,handleBalanceChange:y,id:v},v)}),k?C.jsx(je,{title:"Back for more? That's what we love about you!",children:C.jsx(ce,{variant:"contained",color:"success","aria-label":"Add threshold",onClick:J,sx:{px:4},children:"Add Threshold"})}):C.jsx(ce,{variant:"contained",color:"success","aria-label":"Add threshold",onClick:J,sx:{px:4},children:"Add Threshold"})]})},mr=({threshold:s,even:a})=>s.name!==""?C.jsxs(ne,{sx:{display:"flex",alignItems:"start",transition:"top 0.3s ease, left 0.3s ease",gap:2,backgroundColor:a?"background.default":"background.paper"},children:[C.jsxs(ae,{sx:{width:"66%",textAlign:"left"},children:[s.name,":"]}),C.jsx(ae,{children:s.max})]}):null,xr=({data:s,order:a})=>C.jsx(ne,{sx:{gridColumn:"span 3",display:"grid",gridTemplateRows:"repeat(7, 1fr)",gridTemplateColumns:["1fr","1fr 1fr","repeat(3, 1fr)"],gridAutoFlow:"column"},children:a.map((x,f)=>{const M=s[x];return C.jsx(mr,{threshold:M,sx:{gridColumn:"span 3"},even:f%2===0},x)})});export{Je as C,gr as I,pr as O,xr as P};
