import{a as we,g as Ce,r as X,u as Te,j as T,s as Ie,c as Ee,d as ke,P as $e,n as ae,B as ne,Q as De,U as Ae,V as qe,W as We,x as je,o as ce,k as ze,K as Xe,v as Ze}from"./main.js";import{D as ge}from"./CreateShell.js";function He(t){return we("MuiCard",t)}Ce("MuiCard",["root"]);const Ge=t=>{const{classes:a}=t;return ke({root:["root"]},He,a)},Ke=Ie($e,{name:"MuiCard",slot:"Root",overridesResolver:(t,a)=>a.root})({overflow:"hidden"}),Qe=X.forwardRef(function(a,p){const x=Te({props:a,name:"MuiCard"}),{className:b,raised:C=!1,...j}=x,f={...x,raised:C},k=Ge(f);return T.jsx(Ke,{className:Ee(k.root,b),elevation:C?8:void 0,ref:p,ownerState:f,...j})});function Je(t){return we("MuiCardContent",t)}Ce("MuiCardContent",["root"]);const Ye=t=>{const{classes:a}=t;return ke({root:["root"]},Je,a)},er=Ie("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,a)=>a.root})({padding:16,"&:last-child":{paddingBottom:24}}),rr=X.forwardRef(function(a,p){const x=Te({props:a,name:"MuiCardContent"}),{className:b,component:C="div",...j}=x,f={...x,component:C},k=Ye(f);return T.jsx(er,{as:C,className:Ee(k.root,b),ownerState:f,ref:p,...j})}),gr=({viewBox:t,path:a,size:p=24,color:x="currentColor",mode:b="box",label:C})=>b==="card"?T.jsx(Qe,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:1,p:2,cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.05)"}},children:T.jsxs(rr,{children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:t,width:p,height:p,fill:x,children:T.jsx("path",{d:a})}),C&&T.jsx(ae,{variant:"body2",sx:{mt:1,textAlign:"center"},children:C})]})}):T.jsx(ne,{sx:{p:1,display:"flex",alignItems:"center"},children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:t,width:p,height:p,fill:x,children:T.jsx("path",{d:a})})});var oe,pe;function ar(){if(pe)return oe;pe=1;var t=De(),a=function(){return t.Date.now()};return oe=a,oe}var se,xe;function nr(){if(xe)return se;xe=1;var t=/\s/;function a(p){for(var x=p.length;x--&&t.test(p.charAt(x)););return x}return se=a,se}var ie,be;function tr(){if(be)return ie;be=1;var t=nr(),a=/^\s+/;function p(x){return x&&x.slice(0,t(x)+1).replace(a,"")}return ie=p,ie}var le,Me;function or(){if(Me)return le;Me=1;var t=tr(),a=Ae(),p=qe(),x=NaN,b=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,j=/^0o[0-7]+$/i,f=parseInt;function k(h){if(typeof h=="number")return h;if(p(h))return x;if(a(h)){var l=typeof h.valueOf=="function"?h.valueOf():h;h=a(l)?l+"":l}if(typeof h!="string")return h===0?h:+h;h=t(h);var o=C.test(h);return o||j.test(h)?f(h.slice(2),o?2:8):b.test(h)?x:+h}return le=k,le}var de,ye;function sr(){if(ye)return de;ye=1;var t=Ae(),a=ar(),p=or(),x="Expected a function",b=Math.max,C=Math.min;function j(f,k,h){var l,o,F,y,P,V,w=0,H=!1,D=!1,_=!0;if(typeof f!="function")throw new TypeError(x);k=p(k)||0,t(h)&&(H=!!h.leading,D="maxWait"in h,F=D?b(p(h.maxWait)||0,k):F,_="trailing"in h?!!h.trailing:_);function Q(I){var q=l,G=o;return l=o=void 0,w=I,y=f.apply(G,q),y}function Y(I){return w=I,P=setTimeout(i,k),H?Q(I):y}function ee(I){var q=I-V,G=I-w,re=k-q;return D?C(re,F-G):re}function u(I){var q=I-V,G=I-w;return V===void 0||q>=k||q<0||D&&G>=F}function i(){var I=a();if(u(I))return N(I);P=setTimeout(i,ee(I))}function N(I){return P=void 0,_&&l?Q(I):(l=o=void 0,y)}function U(){P!==void 0&&clearTimeout(P),w=0,l=V=o=P=void 0}function $(){return P===void 0?y:N(a())}function L(){var I=a(),q=u(I);if(l=arguments,o=this,V=I,q){if(P===void 0)return Y(V);if(D)return clearTimeout(P),P=setTimeout(i,k),Q(V)}return P===void 0&&(P=setTimeout(i,k)),y}return L.cancel=U,L.flush=$,L}return de=j,de}var ir=sr();const lr=We(ir);var he={};(function t(a,p,x,b){var C=!!(a.Worker&&a.Blob&&a.Promise&&a.OffscreenCanvas&&a.OffscreenCanvasRenderingContext2D&&a.HTMLCanvasElement&&a.HTMLCanvasElement.prototype.transferControlToOffscreen&&a.URL&&a.URL.createObjectURL),j=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=function(){if(!a.OffscreenCanvas)return!1;var r=new OffscreenCanvas(1,1),e=r.getContext("2d");e.fillRect(0,0,1,1);var n=r.transferToImageBitmap();try{e.createPattern(n,"no-repeat")}catch{return!1}return!0}();function k(){}function h(r){var e=p.exports.Promise,n=e!==void 0?e:a.Promise;return typeof n=="function"?new n(r):(r(k,k),null)}var l=function(r,e){return{transform:function(n){if(r)return n;if(e.has(n))return e.get(n);var d=new OffscreenCanvas(n.width,n.height),c=d.getContext("2d");return c.drawImage(n,0,0),e.set(n,d),d},clear:function(){e.clear()}}}(f,new Map),o=function(){var r=Math.floor(16.666666666666668),e,n,d={},c=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(m){var v=Math.random();return d[v]=requestAnimationFrame(function s(g){c===g||c+r-1<g?(c=g,delete d[v],m()):d[v]=requestAnimationFrame(s)}),v},n=function(m){d[m]&&cancelAnimationFrame(d[m])}):(e=function(m){return setTimeout(m,r)},n=function(m){return clearTimeout(m)}),{frame:e,cancel:n}}(),F=function(){var r,e,n={};function d(c){function m(v,s){c.postMessage({options:v||{},callback:s})}c.init=function(s){var g=s.transferControlToOffscreen();c.postMessage({canvas:g},[g])},c.fire=function(s,g,E){if(e)return m(s,null),e;var S=Math.random().toString(36).slice(2);return e=h(function(A){function R(O){O.data.callback===S&&(delete n[S],c.removeEventListener("message",R),e=null,l.clear(),E(),A())}c.addEventListener("message",R),m(s,S),n[S]=R.bind(null,{data:{callback:S}})}),e},c.reset=function(){c.postMessage({reset:!0});for(var s in n)n[s](),delete n[s]}}return function(){if(r)return r;if(!x&&C){var c=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{r=new Worker(URL.createObjectURL(new Blob([c])))}catch(m){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",m),null}d(r)}return r}}(),y={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function P(r,e){return e?e(r):r}function V(r){return r!=null}function w(r,e,n){return P(r&&V(r[e])?r[e]:y[e],n)}function H(r){return r<0?0:Math.floor(r)}function D(r,e){return Math.floor(Math.random()*(e-r))+r}function _(r){return parseInt(r,16)}function Q(r){return r.map(Y)}function Y(r){var e=String(r).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:_(e.substring(0,2)),g:_(e.substring(2,4)),b:_(e.substring(4,6))}}function ee(r){var e=w(r,"origin",Object);return e.x=w(e,"x",Number),e.y=w(e,"y",Number),e}function u(r){r.width=document.documentElement.clientWidth,r.height=document.documentElement.clientHeight}function i(r){var e=r.getBoundingClientRect();r.width=e.width,r.height=e.height}function N(r){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=r,e}function U(r,e,n,d,c,m,v,s,g){r.save(),r.translate(e,n),r.rotate(m),r.scale(d,c),r.arc(0,0,1,v,s,g),r.restore()}function $(r){var e=r.angle*(Math.PI/180),n=r.spread*(Math.PI/180);return{x:r.x,y:r.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:r.startVelocity*.5+Math.random()*r.startVelocity,angle2D:-e+(.5*n-Math.random()*n),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:r.color,shape:r.shape,tick:0,totalTicks:r.ticks,decay:r.decay,drift:r.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:r.gravity*3,ovalScalar:.6,scalar:r.scalar,flat:r.flat}}function L(r,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var n=e.tick++/e.totalTicks,d=e.x+e.random*e.tiltCos,c=e.y+e.random*e.tiltSin,m=e.wobbleX+e.random*e.tiltCos,v=e.wobbleY+e.random*e.tiltSin;if(r.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-n)+")",r.beginPath(),j&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))r.fill(Se(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(m-d)*.1,Math.abs(v-c)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var s=Math.PI/10*e.wobble,g=Math.abs(m-d)*.1,E=Math.abs(v-c)*.1,S=e.shape.bitmap.width*e.scalar,A=e.shape.bitmap.height*e.scalar,R=new DOMMatrix([Math.cos(s)*g,Math.sin(s)*g,-Math.sin(s)*E,Math.cos(s)*E,e.x,e.y]);R.multiplySelf(new DOMMatrix(e.shape.matrix));var O=r.createPattern(l.transform(e.shape.bitmap),"no-repeat");O.setTransform(R),r.globalAlpha=1-n,r.fillStyle=O,r.fillRect(e.x-S/2,e.y-A/2,S,A),r.globalAlpha=1}else if(e.shape==="circle")r.ellipse?r.ellipse(e.x,e.y,Math.abs(m-d)*e.ovalScalar,Math.abs(v-c)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):U(r,e.x,e.y,Math.abs(m-d)*e.ovalScalar,Math.abs(v-c)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var M=Math.PI/2*3,B=4*e.scalar,W=8*e.scalar,z=e.x,K=e.y,J=5,Z=Math.PI/J;J--;)z=e.x+Math.cos(M)*W,K=e.y+Math.sin(M)*W,r.lineTo(z,K),M+=Z,z=e.x+Math.cos(M)*B,K=e.y+Math.sin(M)*B,r.lineTo(z,K),M+=Z;else r.moveTo(Math.floor(e.x),Math.floor(e.y)),r.lineTo(Math.floor(e.wobbleX),Math.floor(c)),r.lineTo(Math.floor(m),Math.floor(v)),r.lineTo(Math.floor(d),Math.floor(e.wobbleY));return r.closePath(),r.fill(),e.tick<e.totalTicks}function I(r,e,n,d,c){var m=e.slice(),v=r.getContext("2d"),s,g,E=h(function(S){function A(){s=g=null,v.clearRect(0,0,d.width,d.height),l.clear(),c(),S()}function R(){x&&!(d.width===b.width&&d.height===b.height)&&(d.width=r.width=b.width,d.height=r.height=b.height),!d.width&&!d.height&&(n(r),d.width=r.width,d.height=r.height),v.clearRect(0,0,d.width,d.height),m=m.filter(function(O){return L(v,O)}),m.length?s=o.frame(R):A()}s=o.frame(R),g=A});return{addFettis:function(S){return m=m.concat(S),E},canvas:r,promise:E,reset:function(){s&&o.cancel(s),g&&g()}}}function q(r,e){var n=!r,d=!!w(e||{},"resize"),c=!1,m=w(e,"disableForReducedMotion",Boolean),v=C&&!!w(e||{},"useWorker"),s=v?F():null,g=n?u:i,E=r&&s?!!r.__confetti_initialized:!1,S=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,A;function R(M,B,W){for(var z=w(M,"particleCount",H),K=w(M,"angle",Number),J=w(M,"spread",Number),Z=w(M,"startVelocity",Number),Ne=w(M,"decay",Number),Fe=w(M,"gravity",Number),Le=w(M,"drift",Number),ue=w(M,"colors",Q),Oe=w(M,"ticks",Number),me=w(M,"shapes"),Ue=w(M,"scalar"),Ve=!!w(M,"flat"),fe=ee(M),ve=z,te=[],Be=r.width*fe.x,_e=r.height*fe.y;ve--;)te.push($({x:Be,y:_e,angle:K,spread:J,startVelocity:Z,color:ue[ve%ue.length],shape:me[D(0,me.length)],ticks:Oe,decay:Ne,gravity:Fe,drift:Le,scalar:Ue,flat:Ve}));return A?A.addFettis(te):(A=I(r,te,g,B,W),A.promise)}function O(M){var B=m||w(M,"disableForReducedMotion",Boolean),W=w(M,"zIndex",Number);if(B&&S)return h(function(Z){Z()});n&&A?r=A.canvas:n&&!r&&(r=N(W),document.body.appendChild(r)),d&&!E&&g(r);var z={width:r.width,height:r.height};s&&!E&&s.init(r),E=!0,s&&(r.__confetti_initialized=!0);function K(){if(s){var Z={getBoundingClientRect:function(){if(!n)return r.getBoundingClientRect()}};g(Z),s.postMessage({resize:{width:Z.width,height:Z.height}});return}z.width=z.height=null}function J(){A=null,d&&(c=!1,a.removeEventListener("resize",K)),n&&r&&(document.body.contains(r)&&document.body.removeChild(r),r=null,E=!1)}return d&&!c&&(c=!0,a.addEventListener("resize",K,!1)),s?s.fire(M,z,J):R(M,z,J)}return O.reset=function(){s&&s.reset(),A&&A.reset()},O}var G;function re(){return G||(G=q(null,{useWorker:!0,resize:!0})),G}function Se(r,e,n,d,c,m,v){var s=new Path2D(r),g=new Path2D;g.addPath(s,new DOMMatrix(e));var E=new Path2D;return E.addPath(g,new DOMMatrix([Math.cos(v)*c,Math.sin(v)*c,-Math.sin(v)*m,Math.cos(v)*m,n,d])),E}function Re(r){if(!j)throw new Error("path confetti are not supported in this browser");var e,n;typeof r=="string"?e=r:(e=r.path,n=r.matrix);var d=new Path2D(e),c=document.createElement("canvas"),m=c.getContext("2d");if(!n){for(var v=1e3,s=v,g=v,E=0,S=0,A,R,O=0;O<v;O+=2)for(var M=0;M<v;M+=2)m.isPointInPath(d,O,M,"nonzero")&&(s=Math.min(s,O),g=Math.min(g,M),E=Math.max(E,O),S=Math.max(S,M));A=E-s,R=S-g;var B=10,W=Math.min(B/A,B/R);n=[W,0,0,W,-Math.round(A/2+s)*W,-Math.round(R/2+g)*W]}return{type:"path",path:e,matrix:n}}function Pe(r){var e,n=1,d="#000000",c='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof r=="string"?e=r:(e=r.text,n="scalar"in r?r.scalar:n,c="fontFamily"in r?r.fontFamily:c,d="color"in r?r.color:d);var m=10*n,v=""+m+"px "+c,s=new OffscreenCanvas(m,m),g=s.getContext("2d");g.font=v;var E=g.measureText(e),S=Math.ceil(E.actualBoundingBoxRight+E.actualBoundingBoxLeft),A=Math.ceil(E.actualBoundingBoxAscent+E.actualBoundingBoxDescent),R=2,O=E.actualBoundingBoxLeft+R,M=E.actualBoundingBoxAscent+R;S+=R+R,A+=R+R,s=new OffscreenCanvas(S,A),g=s.getContext("2d"),g.font=v,g.fillStyle=d,g.fillText(e,O,M);var B=1/n;return{type:"bitmap",bitmap:s.transferToImageBitmap(),matrix:[B,0,0,B,-S*B/2,-A*B/2]}}p.exports=function(){return re().apply(this,arguments)},p.exports.reset=function(){re().reset()},p.exports.create=q,p.exports.shapeFromPath=Re,p.exports.shapeFromText=Pe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),he,!1);const dr=he.exports;he.exports.create;const cr=(t,a)=>{const b={...t},C=[],j=new Set;let f=Object.entries(b).map(([l,o])=>({id:l,name:o.name,max:o.max}));const k=l=>{let o=l,F=0;for(;j.has(o)&&F<200;){const y=[...j].filter(_=>_<o),P=[...j].filter(_=>_>o),V=y.length?Math.max(...y):-1/0,w=P.length?Math.min(...P):1/0,H=V===-1/0?o-1:o-(V+1),D=w===1/0?100-o:w-1-o;if(H>=D&&H>0&&o>1)o--;else if(D>0&&o<100)o++;else break;o=Math.max(1,Math.min(100,o)),F++}return o},h=f.findIndex(l=>l.id===a);if(h>=0){let l=f[h],o=l.max,F=Math.max(1,Math.min(100,o)),y=k(F);y!==o&&C.push(`Threshold ${l.name} changed from ${o} to ${y} to prevent duplicates.`),l.max=y,j.add(y),f[h]=l}f.sort((l,o)=>l.max-o.max);for(let l=0;l<f.length;l++){const o=f[l];if(o.id===a)continue;const F=o.max;let y=Math.max(1,Math.min(100,F));j.has(y)&&(y=k(y)),j.has(y)&&(y=k(y)),y!==F&&C.push(`Threshold ${o.name} changed from ${F} to ${y} to prevent duplicates.`),o.max=y,j.add(y),f[l]=o}return f.forEach(l=>{b[l.id]={name:l.name,max:l.max}}),{thresholdsClone:b,changes:C}},hr=({threshold:t,errors:a,index:p,id:x,handleRemove:b,handleNameValidation:C,handleMaxValidation:j,handleNameChange:f,handleMaxChange:k,handleBalanceChange:h})=>(console.log(a),T.jsxs(ne,{sx:{display:"flex",alignItems:"center",px:12,transition:"top 0.3s ease, left 0.3s ease",gap:2},children:[T.jsx(ge,{initialValues:{name:t.name},field:{name:"name",type:"text",value:t.name,textSx:{width:"100%"},validate:l=>l.length<3?"Name must be longer than 3 characters":null,id:x,keypath:`thresholds.${x}.name`},shrink:!0,boxSx:{width:"100%"},externalUpdate:f,parentError:a==null?void 0:a.name,onError:C}),T.jsx(ge,{initialValues:{max:t.max},field:{name:"max",label:"Value",value:t.max,type:"number",textSx:{width:"100%"},validate:l=>l<0||l>100?"Value must be between 0 and 100":null,id:x},boxSx:{width:"66%"},shrink:!0,externalUpdate:k,parentError:(a==null?void 0:a.max)||null,onError:j,onBlur:h}),T.jsx(je,{title:"Remove threshold",children:T.jsx(ce,{variant:"contained","aria-label":"Remove threshold",onClick:()=>b(t.id),sx:{px:4},children:"Remove"})})]},t.id)),ur=X.memo(hr),pr=({tool:t,max:a=21,id:p})=>{const{edit:x,updateTool:b,validateToolField:C,errors:j}=ze(t,p),f=x.thresholds,[k,h]=X.useState(!1),{showSnackbar:l}=Xe(),[o,F]=X.useState(null),y=j.thresholds.data,P=X.useCallback(lr((u,i)=>{l(u,i)},300,{leading:!0,trailing:!1}),[l]),V=X.useCallback((u,{id:i})=>{b(`thresholds.data.${i}.max`,u),o!==i&&F(i),C(`thresholds.data.${i}.max`,u)},[b,C,o,F]),w=X.useCallback(()=>{const{thresholdsClone:u,changes:i}=cr(f.data,o),N=[...f.order].sort((U,$)=>u[U].max-u[$].max);b("thresholds.data",u),b("thresholds.order",N),i&&i.forEach(U=>{P(U,"warning")})},[f.data,f.order,b,o,P]),H=(u,{id:i})=>{b(`thresholds.data.${i}.name`,u),C(`thresholds.data.${i}.name`,u)},D=u=>{if(u.length===0)return 33;const i=u.order.map(L=>u.data[L]).sort((L,I)=>L.max-I.max);let N=0,U=0;for(let L=0;L<i.length-1;L++){const I=i[L+1].max-i[L].max;I>N&&(N=I,U=Math.floor((i[L+1].max+i[L].max)/2))}i[0].max>N&&(N=i[0].max,U=Math.floor(i[0].max/2));const $=100-i[i.length-1].max;return $>N&&(N=$,U=Math.floor((100+i[i.length-1].max)/2)),U},_=X.useCallback(u=>{let i={...f.data};delete i[u],b("thresholds.data",i);const U=f.order.filter(L=>L!==u);b("thresholds.order",U);const $={...y};delete $[u],C("thresholds.errors",$)},[f.data,y]),Q=()=>{if(f.order.length>=a){l(`Congrats on clicking at least ${a-7} times! ${a} is the limit, friend. Hope that's enough!`,"info"),dr({particleCount:100,spread:70,origin:{y:.6}}),h(!0);return}let u={...f.data};const i=Ze();u[i]={id:i,name:"",max:D(f)};const N=[...f.order,i];N.sort((U,$)=>u[U].max-u[$].max),b("thresholds.order",N),b("thresholds.data",u),C(`thresholds.data.${i}`,{name:"Threshold name must be at least 3 characters",max:null})},Y=X.useCallback((u,{id:i})=>{C(`thresholds.${i}.max`,u)}),ee=X.useCallback((u,{id:i})=>{C(`thresholds.${i}.name`,u)});return T.jsxs(ne,{children:[T.jsxs(ae,{variant:"h6",children:[t.charAt(0).toUpperCase()+t.slice(1)," Thresholds"]}),T.jsxs(ae,{children:["Thresholds represent ",t," state at a given percentage. They provide both narrative depth and an easy way to set"," ",T.jsx("strong",{children:"Conditions and Listeners"})," without relying on intimate knowledge of the ",t," itself."," "]}),f.order.map((u,i)=>{const N=f.data[u];return T.jsx(ur,{threshold:N,errors:y[u],index:i,handleNameChange:H,handleMaxChange:V,handleMaxValidation:Y,handleNameValidation:ee,handleRemove:_,handleBalanceChange:w,id:u},u)}),k?T.jsx(je,{title:"Back for more? That's what we love about you!",children:T.jsx(ce,{variant:"contained",color:"success","aria-label":"Add threshold",onClick:Q,sx:{px:4},children:"Add Threshold"})}):T.jsx(ce,{variant:"contained",color:"success","aria-label":"Add threshold",onClick:Q,sx:{px:4},children:"Add Threshold"})]})},mr=({threshold:t,even:a})=>t.name!==""?T.jsxs(ne,{sx:{display:"flex",alignItems:"start",transition:"top 0.3s ease, left 0.3s ease",gap:2,backgroundColor:a?"background.default":"background.paper"},children:[T.jsxs(ae,{sx:{width:"66%",textAlign:"left"},children:[t.name,":"]}),T.jsx(ae,{children:t.max})]}):null,xr=({data:t,order:a})=>T.jsx(ne,{sx:{gridColumn:"span 3",display:"grid",gridTemplateRows:"repeat(7, 1fr)",gridTemplateColumns:["1fr","1fr 1fr","repeat(3, 1fr)"],gridAutoFlow:"column"},children:a.map((p,x)=>{const b=t[p];return T.jsx(mr,{threshold:b,sx:{gridColumn:"span 3"},even:x%2===0},p)})});export{Qe as C,gr as I,pr as O,xr as P};
