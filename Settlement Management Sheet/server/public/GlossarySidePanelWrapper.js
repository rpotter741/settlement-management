import{F as G,j as s,a0 as I,aa as i,ab as j,ap as A,ac as S,ar as k,r as c,at as p,au as E,as as w,aB as C,aM as M,M as f,T as x,p as b,W as m,aO as B,I as D,aE as L,A as T}from"./main.js";import{t as g}from"./glossaryThunks.js";const W=G(s.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),H=()=>{const t=I(),e=i(j()),a=i(A()),d=i(S(e||"")),y=i(k(e||""));return c.useEffect(()=>{t(g.getGlossaries())},[]),c.useEffect(()=>{if(a.length>0&&e===null){const o=localStorage.getItem("lastActiveGlossaryId");o&&t(p({glossaryId:o}))}},[a,e]),c.useEffect(()=>{e!==null&&y.length===0&&t(g.getNodes({glossaryId:e}))},[e]),{handleSelect:o=>{o!==e&&(console.log("setting active id"),t(p({glossaryId:o})))},deselectGlossary:()=>{e!==null&&(t(E({config:"glossary",key:"activeTab",value:"Overview"})),t(p({glossaryId:null})),localStorage.removeItem("lastActiveGlossaryId"))},glossary:d,glossaries:a}},N=({handleSelect:t})=>{const{showModal:e}=w(),{getAlphaColor:a}=C(),{glossaries:d,activeId:y}=M(),[l,u]=c.useState(null),o=r=>({id:"confirm-delete-glossary",componentKey:"ConfirmDeleteGlossary",props:{glossary:r,tab:{side:null}}}),v=()=>({id:"create-glossary",componentKey:"NameNewGlossary",props:{}}),h=a({color:"success",key:"main",opacity:.2});return s.jsxs(f,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},sx:{flex:1,height:"calc(100vh - 40px)"},children:[s.jsx(x,{variant:"h6",children:"Glossary Select"}),s.jsx(b,{sx:{display:"flex",flexDirection:"column",width:"100%",alignItems:"start",gap:2},children:d.map((r,n)=>s.jsxs(m,{variant:"text",sx:{textTransform:"none",color:"text.primary",width:"100%",gap:1,backgroundColor:y===r.id?h:"inherit","&:hover":{backgroundColor:l===n?h:"inherit",cursor:"pointer"}},onClick:()=>t(r.id),onMouseEnter:()=>u(n),onMouseLeave:()=>u(null),children:[s.jsx(B,{sx:{color:l===n?"primary.main":"transparent"}}),s.jsx(x,{variant:"body2",sx:{fontWeight:"bold",textAlign:"left",width:"100%"},children:r.name}),s.jsx(D,{size:"small",onClick:()=>{e({entry:o(r)})},sx:{color:l===n?"primary.main":"transparent"},children:s.jsx(L,{fontSize:"small"})})]},r.id))}),s.jsx(m,{sx:{bottom:0,variant:"contained",width:"100%"},onClick:()=>{e({entry:v()})},children:"Create New Glossary"})]})},F=({children:t})=>{const{handleSelect:e,glossary:a}=H();return s.jsx(f,{layout:!0,sx:{display:"flex",flexDirection:"column",padding:2,height:"100%",position:"relative"},children:s.jsx(T,{mode:"wait",children:a?s.jsx(s.Fragment,{children:t}):s.jsx(N,{handleSelect:e})})})};export{W as A,F as G,H as u};
