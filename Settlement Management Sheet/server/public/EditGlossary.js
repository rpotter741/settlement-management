import{X as E,j as s,p as m,aC as I,aD as P,u as T,r as a,b as G,aE as k,aF as A,aG as f,B as D,T as j,g as v,aA as S,d as x,_ as B,$ as w,az as M}from"./main.js";import{P as N}from"./PageBox.js";const z=E(s.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"}),"Palette"),$=()=>{const t=m(I());if(!t)return;const e=m(P(t)),n=T(),[o,y]=a.useState((e==null?void 0:e.name)||""),[l,h]=a.useState((e==null?void 0:e.description)||""),[c,d]=a.useState(!1),[u,p]=a.useState(!1),[R,F]=a.useState(!1),{showModal:b}=G(),i=m(k(t)),g=m(A);a.useEffect(()=>{(c||u)&&!i?n(f({id:t,isDirty:!0})):!c&&!u&&i&&n(f({id:t,isDirty:!1}))},[c,u,i,t,n]),a.useEffect(()=>{e.name!==o?d(!0):d(!1)},[e.name,o]),a.useEffect(()=>{e.description!==l?p(!0):p(!1)},[e.description,l]);const C=()=>{try{n(M.updateGlossaryThunk({id:e.id,name:o,description:l})),d(!1),p(!1),n(f({id:t,isDirty:!1}))}catch(r){console.error("Error updating glossary:",r)}};return s.jsxs(N,{innerStyle:{border:"1px solid",borderColor:"primary.main"},children:[s.jsxs(D,{sx:{mt:4},children:[s.jsxs(j,{variant:"h5",children:["Configure ",e.name]}),s.jsx(v,{label:"Glossary Name",variant:"outlined",fullWidth:!0,margin:"normal",value:o,onChange:r=>y(r.target.value),slotProps:{input:{endAdornment:s.jsx(S,{sx:{color:c?"error.main":"transparent",fontSize:".75rem"}})}},sx:{width:"100%"}}),s.jsx(v,{label:"Description",variant:"outlined",fullWidth:!0,margin:"normal",value:l,onChange:r=>h(r.target.value),multiline:!0,minRows:6,slotProps:{input:{endAdornment:s.jsx(S,{sx:{color:u?"error.main":"transparent",fontSize:".75rem"}})}}}),s.jsxs(D,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",my:2},children:[s.jsx(x,{disabled:!i,variant:"contained",color:"success",onClick:C,sx:{opacity:i?1:0},children:"Save Changes"}),s.jsx(x,{variant:"outlined",disabled:!i,onClick:()=>{y(e.name),h(e.description),d(!1),p(!1),n(f({id:t,isDirty:!1}))},sx:{opacity:i?1:0},children:"Reset"})]}),s.jsx(B,{flexItem:!0,children:s.jsx(w,{label:s.jsx(j,{variant:"h6",children:"Palette Settings"}),icon:s.jsx(z,{})})})]}),s.jsx(x,{onClick:()=>{const r={componentKey:"ConfirmDeleteGlossary",props:{tab:g,glossary:e},id:`delete-glossary-${e.id}`};b({entry:r})},children:"Delete Glossary"})]})};export{$ as default};
