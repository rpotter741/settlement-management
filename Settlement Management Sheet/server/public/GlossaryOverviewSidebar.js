import{as as g,j as s,i as d,I as j,T as k,K as b,W as G,ar as T,aa as h,ab as C,ap as A,r as p,at as I,M as u,A as S}from"./main.js";import{A as w,u as B,G as M}from"./GlossaryListSelect.js";import"./glossaryThunks.js";const E=({onGoBack:r,name:i,list:l,onListItemClick:e,activeItem:o,activeIndex:x})=>{const{getAlphaColor:n,darkenColor:c}=g();function a(t){return`${t*44.5}px`}return s.jsxs(s.Fragment,{children:[s.jsxs(d,{sx:{width:"100%",display:"flex",justifyContent:"center",position:"relative"},children:[s.jsx(j,{sx:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)"},onClick:r,children:s.jsx(w,{})}),s.jsx(k,{variant:"h6",sx:{marginLeft:2},children:i})]}),s.jsx(b,{variant:"outlined",placeholder:"Search glossary...",fullWidth:!0,sx:{marginTop:2,marginBottom:2}}),s.jsxs(d,{sx:{display:"flex",flexDirection:"column",gap:1,position:"relative"},children:[l.map(t=>s.jsx(G,{variant:"text",sx:{justifyContent:"flex-start",backgroundColor:o===t?n({color:"success",key:"dark",opacity:.3}):"transparent",color:o===t?"success.main":"primary.main","&:hover":{backgroundColor:o!==t?c({color:"background",key:"default",amount:.2}):n({color:"success",key:"dark",opacity:.3}),color:"text.primary"}},onClick:()=>{e(t)},children:t},t)),s.jsx(d,{component:"span",sx:{position:"absolute",left:0,top:a(x),width:"2px",height:"36.5px",backgroundColor:n({color:"success",key:"light",opacity:.8}),transition:"top 0.3s ease"}})]})]})},D=()=>{T(),g();const r=h(C()),i=h(A()),l=i.find(v=>v.id===r),[e,o]=p.useState(l||null);p.useRef([]);const[x,n]=p.useState({}),{updateActiveTab:c,ui:a}=I(),{handleSelect:t,deselectGlossary:m}=B({glossary:e,glossaries:i,glossaryId:r,setGlossary:o}),y=["Overview","Graph","Entries","Terms","Templates","Settings","Palette"],f=y.indexOf((a==null?void 0:a.activeTab)||"Overview");return s.jsx(u,{layout:!0,sx:{display:"flex",flexDirection:"column",padding:2,height:"100%",position:"relative"},children:s.jsx(S,{mode:"wait",children:e?s.jsx(u,{layout:!0,layoutId:"glossary-sidebar",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},children:s.jsx(E,{onGoBack:m,name:e.name,list:y,onListItemClick:c,activeItem:a==null?void 0:a.activeTab,activeIndex:f})}):s.jsx(u,{layout:!0,layoutId:"glossary-sidebar",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},children:s.jsx(M,{handleSelect:t})})})})};export{D as default};
