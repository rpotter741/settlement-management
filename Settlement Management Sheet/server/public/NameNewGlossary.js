import{u as h,r as e,b as f,j as t,B as j,g as v,d,v as b,k as w,n as k}from"./main.js";import{E as C}from"./Editor.js";import{G as D}from"./GenreSelect.js";import"./extensions.js";import"./useTabSplit.js";import"./useDebounce.js";const R=()=>{const u=h(),[r,m]=e.useState(""),[o,p]=e.useState(""),[G,g]=e.useState(""),[n,y]=e.useState("Fantasy"),[i,x]=e.useState(""),[E,N]=e.useState(""),{closeModal:c}=f(),S=s=>{p(s.description),g(s.dataString)};return t.jsxs(j,{sx:{width:"50vw"},children:[t.jsx(v,{value:r,onChange:s=>m(s.target.value),label:"Glossary Name",variant:"outlined",fullWidth:!0,margin:"normal"}),t.jsx(D,{defaultGenre:n,defaultSubGenre:i,updateFn:(s,a)=>{s==="genre"?y(a):s==="subGenre"&&x(a)}}),t.jsx(C,{propUpdate:S,html:o}),t.jsx(d,{variant:"contained",color:"primary",onClick:async()=>{const s=b(),a=await w.createGlossary({id:s,name:r.trim(),description:{markdown:o,string:G},genre:n,subGenre:i}).then(l=>(console.log("Glossary created:",l.glossary),l.glossary));c(),u(k.addAndActivateGlossary({...a}))},children:"Create Glossary"}),t.jsx(d,{variant:"outlined",color:"secondary",onClick:()=>c(),style:{marginLeft:"8px"},children:"Cancel"})]})};export{R as default};
