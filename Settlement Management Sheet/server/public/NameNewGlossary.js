import{a0 as h,r as e,as as j,j as t,i as f,K as v,aU as w,aV as b,W as d,v as C,aW as D}from"./main.js";import{t as N}from"./glossaryThunks.js";const W=()=>{const u=h(),[n,m]=e.useState(""),[r,p]=e.useState(""),[y,G]=e.useState(""),[o,g]=e.useState("Fantasy"),[i,x]=e.useState(""),[k,E]=e.useState(""),{closeModal:c}=j(),S=s=>{p(s.description),G(s.dataString)};return t.jsxs(f,{sx:{width:"50vw"},children:[t.jsx(v,{value:n,onChange:s=>m(s.target.value),label:"Glossary Name",variant:"outlined",fullWidth:!0,margin:"normal"}),t.jsx(w,{defaultGenre:o,defaultSubGenre:i,updateFn:(s,a)=>{s==="genre"?g(a):s==="subGenre"&&x(a)}}),t.jsx(b,{propUpdate:S,html:r}),t.jsx(d,{variant:"contained",color:"primary",onClick:async()=>{const s=C(),a=await D.createGlossary({id:s,name:n.trim(),description:{markdown:r,string:y},genre:o,subGenre:i}).then(l=>(console.log("Glossary created:",l.glossary),l.glossary));c(),u(N.addAndActivateGlossary({...a}))},children:"Create Glossary"}),t.jsx(d,{variant:"outlined",color:"secondary",onClick:()=>c(),style:{marginLeft:"8px"},children:"Cancel"})]})};export{W as default};
