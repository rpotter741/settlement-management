import{Z as e,Y as T,bt as d,v,bu as g,a2 as f}from"./main.js";function m({tool:s,refId:n,id:o,currentTool:l,mode:y="preview",side:u="right"}){return async(r,i)=>{const c=i(),a=l||s;try{await e.prefetchQuery({queryKey:[a,o],queryFn:async()=>await T.getItem({tool:a,refId:n,id:o})});const t=e.getQueryData([a,o]);t&&!c.tools[a].static.byId[o]&&r(d({tool:a,data:t}));const b={event:!0,apt:!0,storyThread:!0},p={name:(t==null?void 0:t.name)||"Untitled",id:(t==null?void 0:t.id)||o,mode:y,tool:a,tabId:v(),scroll:0,activate:!0,side:u,preventSplit:b[a]??!1,tabType:"tool"};r(g(p))}catch{r(f({message:"Error loading tool. Sorry! Try again later.",type:"error"}))}}}export{m as l};
