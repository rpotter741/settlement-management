import{u as $,p as H,aw as V,ax as ee,r as p,n as U,ay as te,b as ae,az as le,aA as re,j as l,a7 as O,l as C,y as I,A as _,aB as T,z as W,aC as J,a6 as ne,_ as oe,g as K,a8 as se,ap as ie,T as B,B as R,aD as ce,d as q,ab as pe,aE as ue,aF as de}from"./main.js";import{P as Y,S as me,a as w}from"./PageBox.js";import{u as ye}from"./useTabSplit.js";import{T as he}from"./TabbedContent.js";import{E as be,t as Q,a as fe,f as ge,u as xe,b as ve}from"./extensions.js";import{A as ke}from"./TagTable.js";const Ce=(t,a)=>{try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(e){return console.error("Error getting local storage item:",e),a??null}},Se=(t,a)=>{try{localStorage.setItem(t,JSON.stringify(a))}catch(e){console.error("Error setting local storage item:",e)}},je=t=>{try{localStorage.removeItem(t)}catch(a){console.error("Error removing local storage item:",a)}},Te=t=>({get:a=>Ce(t,a),set:a=>Se(t,a),remove:()=>je(t)}),G=(t,a)=>{const e=$(),o=H(V(t,a)),f=H(ee(t,a)),d=p.useCallback((n,x)=>e(U.getOptionsByProperty({glossaryId:t,entryId:a,property:n,inheritanceMap:x})),[t,a]),u=n=>H(te(t,a,n)),y=Te(`${t}-${a}`),h=p.useCallback(n=>{console.log("updating node ",o," with content: ",n)},[e,t,o]),v=p.useCallback(()=>y.get(),[t,a]),g=p.useCallback(n=>{y.set(n)},[t,a]),s=p.useCallback(()=>{y.remove()},[t,a]),m=p.useCallback(()=>{const n=y.get();if(!n)return!1;const x=new Date((f==null?void 0:f.updatedAt)||0);return new Date(n.updatedAt)>x},[t,a]);return p.useEffect(()=>{!f&&(o!=null&&o.entryType)&&e(U.getEntryById({node:o}))},[e,a,t,o.entryType,f]),{node:o,entry:f,buildOptionsByKeypath:d,getOptionsByKeypath:u,updateGlossaryEntry:h,getLocalStorage:v,setLocalStorage:g,clearLocalStorage:s,localIsNewer:m}},Ee=({tab:t,editComponent:a,editComponentProps:e,previewComponent:o,previewComponentProps:f})=>{const d=$(),{showModal:u,closeModal:y}=ae(),{tool:h,id:v,mode:g,side:s,tabId:m,glossaryId:n,tabType:x}=t,j=S=>{const k=C.cloneDeep(t.viewState.lastSaved||{});k[S]=new Date().toISOString(),d(I({tabId:m,side:s,keypath:"viewState.lastUpdated",updates:k}))};if(!n)return null;const{node:E,entry:P}=G(n,v),D=H(le(n)),M=p.useMemo(()=>re({node:E,nodeStructure:D}),[E,D]),{splitSize:c,soloSize:r,splitTabs:i}=ye(),b=p.useMemo(()=>({tab:t,tool:h,id:v,mode:g,side:s,tabId:m,glossaryId:n,entry:P,node:E,inheritanceMap:M,updateLastSaved:j,showModal:u,closeModal:y}),[t,h,v,g,s,m,n,P,j,u,y,E,M]);return P?l.jsx(me.Provider,{value:b,children:l.jsx(Y,{variant:i?c?"default":"blend":r?"blend":"default",tabType:"glossary",mode:g,children:g==="edit"&&a?O.createElement(a,{...e}):g==="preview"&&o?O.createElement(o,{...f}):l.jsx("div",{style:{padding:"16px"},children:"Yo shit is busted, bruh"})})}):l.jsx(Y,{mode:g,variant:"default",children:"Loading..."})},L=t=>t,Le=L([{name:"Geography",children:[{multiple:!1,keypath:"climates",label:"Climate"},{multiple:!0,keypath:"terrain",label:"Terrain"},{multiple:!0,keypath:"locations",label:"Locations"}]},{name:"Political",children:[{multiple:!0,keypath:"nations",label:"Nations"},{multiple:!0,keypath:"regions",label:"Regions"},{multiple:!1,keypath:"population",label:"Population"},{multiple:!0,keypath:"resources",label:"Resources"}]},{name:"History",children:[{multiple:!0,keypath:"eventLog",label:"Event Log"}]}]),Ae=L([{name:"Geography",children:[{multiple:!1,keypath:"climates",label:"Climates",hasPrimary:!0},{multiple:!0,keypath:"terrain",label:"Terrain"},{multiple:!0,keypath:"locations",label:"Locations"},{multiple:!0,keypath:"landmarks",label:"Landmarks"}]},{name:"Political",children:[{multiple:!0,keypath:"nations",label:"Nations",hasPrimary:!0},{multiple:!0,keypath:"factions",label:"Factions",hasPrimary:!1},{multiple:!1,keypath:"population",label:"Population"},{multiple:!0,keypath:"resources",label:"Resources"}]}]),we=L([{name:"Government",children:[{multiple:!0,keypath:"capital",label:"Capital"},{multiple:!1,keypath:"governmentType",label:"Government Type"},{multiple:!1,keypath:"population",label:"Population"},{multiple:!0,keypath:"notableFigures",label:"Notable Figures"},{multiple:!1,keypath:"culture",label:"Culture"},{multiple:!0,keypath:"locations",label:"Locations"},{multiple:!0,keypath:"languages",label:"Languages"},{multiple:!1,keypath:"economy",label:"Economy"},{multiple:!0,keypath:"resources",label:"Resources"}]},{name:"Geography",children:[{multiple:!0,keypath:"continent",label:"Continents"},{multiple:!0,keypath:"regions",label:"Regions"},{multiple:!0,keypath:"geography",label:"Landmarks"}]},{name:"History",children:[{multiple:!1,keypath:"history",label:"History"},{multiple:!0,keypath:"notableEvents",label:"Notable Events"},{multiple:!0,keypath:"flags",label:"Flags"}]}]),Pe=L([{name:"Geography",children:[{multiple:!0,keypath:"terrain",label:"Terrain"},{multiple:!0,keypath:"locations",label:"Locations"},{multiple:!0,keypath:"landmarks",label:"Landmarks"}]},{name:"Political",children:[{multiple:!0,keypath:"nations",label:"Nations"},{multiple:!0,keypath:"resources",label:"Resources"},{multiple:!1,keypath:"population",label:"Population"},{multiple:!0,keypath:"people",label:"People"}]},{name:"History",children:[{multiple:!0,keypath:"eventLog",label:"Event Log"}]}]),Me=L([{name:"Geography",children:[{multiple:!1,keypath:"climates",label:"Climate"},{multiple:!0,keypath:"regions",label:"Region",hasPrimary:!0},{multiple:!1,keypath:"geographicType",label:"Type"}]},{name:"Notes",children:[{multiple:!1,keypath:"notes",label:"Notes"}]}]),Oe=L([{name:"Geopolitical",children:[{multiple:!0,keypath:"nation",label:"Nation"},{multiple:!0,keypath:"region",label:"Region"},{multiple:!1,keypath:"population",label:"Population"}]},{name:"Government",children:[{multiple:!1,keypath:"government",label:"Government"},{multiple:!1,keypath:"type",label:"Settlement Type"},{multiple:!1,keypath:"economy",label:"Economy"},{multiple:!1,keypath:"culture",label:"Culture"},{multiple:!0,keypath:"people",label:"Notable Figures"}]},{name:"History",children:[{multiple:!0,keypath:"events",label:"Notable Events"},{multiple:!0,keypath:"locations",label:"Notable Locations"},{multiple:!1,keypath:"history",label:"History"}]}]),Re=L([{name:"Roster",children:[{multiple:!0,keypath:"leader",label:"Leader"},{multiple:!0,keypath:"homeBase",label:"Home Base"},{multiple:!0,keypath:"members",label:"Members"}]},{name:"Geopolitical",children:[{multiple:!0,keypath:"nations",label:"Nations"},{multiple:!0,keypath:"regions",label:"Regions"}]},{name:"Relationships",children:[{multiple:!0,keypath:"allies",label:"Allies"},{multiple:!0,keypath:"enemies",label:"Enemies"}]}]),Ge=L([{name:"Profession",children:[{multiple:!1,keypath:"occupation",label:"Occupation"},{multiple:!1,keypath:"title",label:"Title"}]},{name:"Background",children:[{multiple:!0,keypath:"traits",label:"Traits"},{multiple:!0,keypath:"faction",label:"Faction"},{multiple:!1,keypath:"history",label:"History"}]},{name:"Details",children:[{multiple:!0,keypath:"location",label:"Location"},{multiple:!1,keypath:"appearance",label:"Appearance"},{multiple:!1,keypath:"events",label:"Events"}]}]),De=L([{name:"Details",children:[{multiple:!1,keypath:"locationType",label:"Type"},{multiple:!0,keypath:"currentOccupants",label:"Current Occupants"},{multiple:!0,keypath:"resources",label:"Resources"}]},{name:"History",children:[{multiple:!0,keypath:"eventLog",label:"Event Log"}]}]),ze=L([{name:"Details",children:[{multiple:!1,keypath:"type",label:"Type"},{multiple:!1,keypath:"priority",label:"Priority"},{multiple:!1,keypath:"dueDate",label:"Due Date"},{multiple:!0,keypath:"sharedWith",label:"Shared With"}]}]),Be=L([{name:"Details",children:[{multiple:!1,keypath:"significance",label:"Significance"},{multiple:!1,keypath:"gameDate",label:"Game Date"},{multiple:!0,keypath:"location",label:"Location"},{multiple:!1,keypath:"frequency",label:"Frequency"}]},{name:"Related",children:[{multiple:!0,keypath:"relatedEntries",label:"Related Entries"}]}]),Ne={continent:Le,territory:Ae,domain:we,province:Pe,landmark:Me,settlement:Oe,faction:Re,person:Ge,location:De,note:ze,event:Be},Ie=({multiple:t=!0,label:a,keypath:e,alphabetizeOptions:o=!0,hasPrimary:f=!1,placeholder:d})=>{const{glossaryId:u,id:y,inheritanceMap:h}=w();if(!u)return null;const{entry:v,updateGlossaryEntry:g,getOptionsByKeypath:s,buildOptionsByKeypath:m}=G(u,y),n=s(e);console.log(n),p.useEffect(()=>{n||m(e,h)},[e,n]);const[x,j]=O.useState(f?"Aymaq":""),E=O.useRef(null);function P(r,i){const b=new Map,S={inherited:1,nearby:2,extended:3,other:4};for(const k of Object.keys(S))for(const A of r[k]??[]){const F=(Array.isArray(A[i]),A[i]);if(F)for(const z of F)if(b.has(z)){const N=b.get(z);N.sources.push({id:A.id,name:A.name,relationship:k});const X=S[k],Z=S[N.group];console.log(X,Z,"tier and existingTier"),S[k]<S[N.group]&&(console.log("Updating group for",z,"from",N.group,"to",k),N.group=k)}else b.set(z,{value:z,label:z,group:k,sources:[{id:A.id,name:A.name,relationship:k}]})}return[...b.values()].map(k=>({...k,label:C.capitalize(k.label),group:C.capitalize(k.group)}))}const D=p.useMemo(()=>n?Object.entries(n).flatMap(([r,i])=>i.filter(b=>!!b[e]).map(b=>({label:C.capitalize(b[e]),value:b[e],group:C.capitalize(r),meta:{id:b.id,name:b.name}}))):[],[n,e]),M=r=>{var b;Array.isArray(r)&&(f&&(r.includes(x)||(r=[x,...r])),r=r.map(S=>S.trim().toLowerCase()));const i={[e]:r};g(i),t&&((b=E.current)==null||b.focus())};console.log(D,"displayOptions"),console.log(v[e],"entry[keypath]");const c=n?P(n,e):[];return console.log(c,"deduped options"),l.jsx(_,{freeSolo:!0,disablePortal:!0,multiple:t,options:c,groupBy:r=>r.group,value:Array.isArray(v[e])?v[e].map(r=>({label:C.capitalize(r)})):v[e]?{label:C.capitalize(v[e])}:[],disableCloseOnSelect:t,onChange:(r,i)=>{i===null?M(t?[]:""):Array.isArray(i)?M(i.map(b=>b.label)):M([i.label])},renderInput:r=>l.jsx(K,{...r,inputRef:E,label:a,variant:"outlined",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}}}),renderTags:(r,i)=>r.map((b,S)=>p.createElement(ne,{label:b,...i({index:S}),key:b.value,sx:{mr:.5,mb:.5,backgroundColor:k=>oe(k.palette.primary.main,k.palette.mode==="dark"?.5:.9),color:"primary.contrastText"}})),blurOnSelect:!t,getOptionLabel:r=>{var i;return((i=r[0])==null?void 0:i.label)||""},renderOption:(r,i,{selected:b})=>{const S=i.value===x,A=b&&!S;return p.createElement(T,{component:"li",...r,key:i.value,sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",position:"relative"}},l.jsxs(T,{children:[t&&f&&l.jsx(W,{title:S?`This is the current primary ${e}.`:A?`Make ${i} the primary ${e}`:"",children:l.jsx("span",{children:l.jsx(J,{checked:S,disabled:!A&&!S,onClick:F=>F.stopPropagation(),onChange:()=>j(i),disableRipple:!0,tabIndex:-1,sx:{mr:1}})})}),C.capitalize(i.label)]}))}})};function Fe(t){return[...t].sort((a,e)=>a.localeCompare(e))}const He=({multiple:t=!0,label:a,keypath:e,options:o,alphabetizeOptions:f=!0,hasPrimary:d=!1,placeholder:u})=>{const{glossaryId:y,id:h}=w();if(!y)return null;const[v,g]=O.useState(""),{entry:s,updateGlossaryEntry:m}=G(y,h),[n,x]=O.useState(d?"Aymaq":""),j=O.useRef(null),E=p.useMemo(()=>{let c=o.filter(r=>s[e]?Array.isArray(s[e])?!s[e].some(i=>i.toLowerCase()===r.toLowerCase()):s[e].toLowerCase()!==r.toLowerCase():!0);return f?Fe(c).map(r=>r):c.map(r=>C.capitalize(r))},[o]),P=p.useMemo(()=>{if(!s[e])return[];const c=Array.isArray(s[e])?s[e]:[s[e]];return[n,...c.filter(r=>r.toLowerCase()!==n)]},[s,e,n]),D=c=>{var r;if(t){const i={[e]:[...Array.isArray(s[e])?s[e]:s[e]?[s[e]]:[],c].flat()};m(i),t&&((r=j.current)==null||r.focus());return}else{const i={[e]:c};m(i)}},M=c=>{let r=[];Array.isArray(s[e])?r=s[e]:typeof s[e]=="string"&&(r=[s[e]]);const i=r.filter(b=>b.toLowerCase()!==c.toLowerCase());m({[e]:i})};return l.jsxs(T,{sx:{display:"flex",flexDirection:"column",width:"100%",my:2},children:[l.jsx(_,{options:E,freeSolo:!0,disableCloseOnSelect:!0,value:null,inputValue:v,blurOnSelect:!1,clearOnBlur:!0,onInputChange:(c,r)=>g(r),onChange:(c,r)=>{r&&D(r),g(""),setTimeout(()=>{var i;return(i=j.current)==null?void 0:i.focus()})},renderInput:c=>l.jsx(K,{...c,inputRef:j,placeholder:`Search for ${e}â€¦`,variant:"outlined",fullWidth:!0}),clearOnEscape:!0,selectOnFocus:!0,handleHomeEndKeys:!0,getOptionLabel:c=>C.capitalize(c),renderOption:(c,r)=>p.createElement(T,{component:"li",...c,key:r,sx:{px:1}},C.capitalize(r))}),l.jsx(T,{children:t?P.length>0?l.jsx(T,{sx:{display:"flex",flexDirection:"column",gap:.5,mt:1},children:P.map((c,r)=>l.jsxs(T,{sx:{display:"flex",alignItems:"center",justifyContent:"start",width:"100%",position:"relative"},children:[l.jsx(se,{onClick:()=>M(c),disabled:n===c.toLowerCase(),children:l.jsx(ie,{sx:{color:n===c.toLowerCase()?"transparent":"inherit"}})}),d&&l.jsx(W,{title:`Click to set ${c} as primary`,placement:"auto",children:l.jsx(J,{checked:n===c.toLowerCase(),onChange:()=>{n!==c&&x(c.toLowerCase())},disabled:n===c.toLowerCase(),sx:{mr:2}})}),l.jsx(B,{children:C.capitalize(c)})]},c))}):l.jsxs(T,{sx:{textAlign:"left",mt:1,ml:4,color:"text.secondary",fontStyle:"italic"},children:["No ",e," selected"]}):l.jsx(T,{sx:{mt:1,color:"text.secondary",fontStyle:"italic"},children:s[e]?`Selected: ${C.capitalize(s[e])}`:`No ${e} selected`})})]})},$e=({propertyMap:t})=>{const{glossaryId:a,id:e}=w();return G(a,e),l.jsx(l.Fragment,{children:t.map(o=>o.multiple?l.jsx(He,{multiple:!0,keypath:o.keypath,options:[],label:o.label},o.keypath):l.jsx(Ie,{multiple:!1,keypath:o.keypath,options:[],label:o.label},o.keypath))})},Ue=({label:t,value:a,onSave:e,style:o={}})=>{const[f,d]=p.useState(a),[u,y]=p.useState(!1),h=f!==a;p.useEffect(()=>{d(a)},[a]);const v=()=>{e(f)},g=s=>{d(s.target.value)};return l.jsxs(R,{sx:{display:"flex",alignItems:"center",gap:2,...o},children:[l.jsx(K,{label:t,variant:"outlined",value:f,onChange:g,disabled:!u,fullWidth:!0,slotProps:{input:{endAdornment:u?l.jsx(ce,{sx:{color:h?"error.main":"transparent",fontSize:".75rem"}}):null}}}),l.jsx(q,{variant:"contained",onClick:()=>{u&&v(),y(!u),u&&h&&d(a)},children:u?"Save":"Edit"}),l.jsx(q,{variant:"outlined",disabled:!u,onClick:()=>{d(a),y(!1)},children:"Cancel"})]})},We=C.debounce((t,a,e)=>{t({description:a,dataString:e.trim()})},1e3),Ke=C.debounce((t,a)=>{t(a)},1e3),qe=({keypath:t,minHeight:a="300px",maxHeight:e="1015px",style:o={}})=>{var m,n;pe();const{entry:f,tab:d,updateLastSaved:u}=w(),{updateGlossaryEntry:y}=G(d.glossaryId,d.id),h=((n=(m=d==null?void 0:d.viewState)==null?void 0:m.lastUpdated)==null?void 0:n[t])||null,[v,g]=p.useState(f[t]||""),s=(x,j)=>{We(y,x,j),Ke(u,t)};return l.jsxs(R,{sx:{display:"flex",flexDirection:"column",boxSizing:"border-box",border:"1px solid",borderColor:"divider"},children:[l.jsx(R,{className:"shell-editor",sx:{boxSizing:"border-box",display:"flex",flexDirection:"column",position:"relative",minHeight:a,maxHeight:e,overflowY:"scroll",height:"100%",...o},children:l.jsx(be,{slotBefore:l.jsx(fe,{}),extensions:Q,content:v,onUpdate:x=>{const j=x.editor.getHTML(),E=x.editor.getText();g(j),s(j,E)}})}),h&&l.jsxs(B,{variant:"caption",sx:{width:"100%",backgroundColor:x=>x.palette.mode==="dark"?"secondary.main":"secondary.light",borderTop:"1px solid",borderColor:"divider",color:x=>x.palette.mode==="dark"?"text.primary":"secondary.contrastText"},children:["Last Saved: ",ge(h)]})]})},Ye=()=>{const{glossaryId:t,id:a,tabId:e,side:o,mode:f}=w(),{updateGlossaryEntry:d,node:u}=G(t,a),y=$(),[h,v]=p.useState(u.name||""),g=p.useRef(!1);p.useEffect(()=>{h!==u.name&&(g.current=!0,d({name:h}),y(I({tabId:e,side:o,keypath:"name",updates:h})))},[h,y,e,o]),p.useEffect(()=>{if(g.current){g.current=!1;return}h!==u.name&&(v(u.name),y(I({tabId:e,side:o,keypath:"name",updates:u.name})))},[u.name]);const s=m=>{v(m),y(I({tabId:e,side:o,keypath:"name",updates:m})),y(U.renameNodeAndEntry({node:u}))};return l.jsxs(l.Fragment,{children:[l.jsx(Ue,{label:"Entry Title",value:h,onSave:s,style:{width:"100%",mb:2}}),l.jsx(qe,{keypath:"description",maxHeight:"500px"}),l.jsx(ke,{})]})},_e={Overview:Ye},Je=[{name:"Overview",key:"overview",disabled:!1,props:{keypath:"description"}},{name:"Backlinks",key:"backlinks",disabled:!1,props:{propertyMap:[]}}],Qe=({propertyMap:t})=>{var g,s;const a=$(),{tab:e}=w(),[o,f]=p.useState(((g=e==null?void 0:e.viewState)==null?void 0:g.activeTab)||"Overview"),[d,u]=p.useState(((s=e==null?void 0:e.viewState)==null?void 0:s.activeIndex)||0),y=p.useMemo(()=>e.side==="right"?"secondary":"primary",[e.side]);p.useEffect(()=>()=>{const m={...e.viewState,activeTab:o,activeIndex:d};a(I({tabId:e.tabId,side:e.side,keypath:"viewState",updates:m}))},[o,d]);const h=p.useMemo(()=>{const m=t.map(x=>({name:x.name,key:x.name,disabled:!1,props:{propertyMap:x.children}}));return Je.toSpliced(1,0,...m)},[t]),v=p.useMemo(()=>h.reduce((m,n)=>(m[n.name]=_e[n.name]||$e||(()=>null),m),{}),[h]);return l.jsx(he,{tabs:h,componentMap:v,activeTab:o,handleTabClick:(m,n)=>{f(m),u(n)},lastIndex:d,color:y})},Xe=({height:t="100%"})=>{const{glossaryId:a,id:e,mode:o,side:f}=w(),{node:d}=G(a,e);return l.jsx(T,{sx:{display:"flex",flexDirection:"column",flexGrow:1,height:t,mt:2,alignContent:"start",justifyContent:"start",gap:2,borderRadius:o==="edit"?2:0,boxSizing:"border-box",overflowY:"scroll",width:"100%",px:2},children:l.jsx(Qe,{propertyMap:Ne[d.entryType]})})},Ze=({content:t})=>{const a=xe({extensions:Q,content:t,editable:!1});return l.jsx(T,{sx:{width:"100%",maxHeight:"calc(100vh - 200px)",overflowY:"auto",borderRadius:2},children:l.jsx(ve,{editor:a})})},Ve=({keypath:t,header:a})=>{const{entry:e}=w();return l.jsxs(R,{sx:{display:"flex",justifyContent:"start",alignItems:"start",mt:2,width:"100%",flexDirection:"column"},children:[l.jsx(B,{sx:{fontSize:"1.25rem",width:"100%",borderBottom:"1px solid",borderColor:"divider",textAlign:"left",fontWeight:600},children:a}),l.jsx(B,{sx:{fontSize:"1.1rem",width:"100%",textAlign:"left",ml:2},children:Array.isArray(e[t])?e[t].map(o=>C.capitalize(o)).join(", "):C.capitalize(e[t])||"No data available"})]})},et={nations:"Nations",regions:"Regions",locations:"Locations",resources:"Resources",population:"Population",climate:"Climate",terrain:"Terrain",capital:"Capital",languages:"Languages",persons:"Persons",eventLog:"Event Log",geography:"Geography",type:"Type",region:"Regions",landmark:"Landmark",settlement:"Settlement",faction:"Faction",person:"Person",event:"Event",note:"Note"},tt=({keypathArray:t})=>l.jsxs(R,{sx:{width:"100%",p:2,borderLeft:"1px solid",borderColor:"divider"},children:[l.jsx(R,{sx:{width:"100%",display:"flex",justifyContent:"start",alignItems:"center",borderBottom:"1px solid",borderColor:"primary.main",flexWrap:"wrap"},children:ue.map(a=>{const e=(Math.random()*(10*Math.random())).toFixed(0),o=e==="1"?"Backlink":"Backlinks";return Number(e)<1?null:l.jsx(W,{title:`${e} ${C.capitalize(a)} ${o}`,children:l.jsxs(R,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:1,cursor:"pointer"},children:[de[a],l.jsxs(B,{variant:"body2",sx:{mt:.5},children:["(",e,")"]})]})},a)})}),t.map(a=>l.jsx(Ve,{keypath:a,header:et[a]},a))]}),at={continent:["nations","regions","locations","resources","population","climate","terrain"],territory:[],domain:["continent","regions","capital","population","languages","persons","eventLog","locations","geography"],province:[],landmark:["region","climate","type"],settlement:[],faction:[],location:["terrain","climate","type","region"],person:[],event:[],note:[]},lt=()=>{const{entry:t,node:a}=w(),{entryType:e}=a;return l.jsxs(T,{sx:{display:"grid",height:"100%",width:"100%",gridTemplateColumns:"2fr 1fr"},children:[l.jsxs(T,{sx:{width:"100%",py:2,borderColor:"divider",display:"flex",flexDirection:"column"},children:[l.jsx(B,{variant:"h2",sx:{mb:2},children:t.name}),l.jsx(Ze,{content:t.description})]}),l.jsx(tt,{keypathArray:at[e]})]})},pt=({tab:t})=>l.jsx(Ee,{tab:t,editComponent:Xe,editComponentProps:{},previewComponent:lt,previewComponentProps:{}});export{pt as default};
