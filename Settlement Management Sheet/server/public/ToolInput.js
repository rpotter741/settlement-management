import{F as G,G as J,r as i,H as K,af as O,j as e,ag as X,J as Z,K as q,T as z,L as M,M as Q,N as Y,X as B,c as ee,l as te,B as R,g as se,y as S,a9 as I,ah as oe}from"./main.js";import{S as ne}from"./ShellContext.js";import{W as re}from"./CreateToolShell.js";function ae(s){return J("MuiInputAdornment",s)}const V=G("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var U;const ie=(s,t)=>{const{ownerState:n}=s;return[t.root,t[`position${M(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},le=s=>{const{classes:t,disablePointerEvents:n,hiddenLabel:l,position:c,size:x,variant:b}=s,h={root:["root",n&&"disablePointerEvents",c&&`position${M(c)}`,b,l&&"hiddenLabel",x&&`size${M(x)}`]};return Q(h,ae,t)},ce=Z("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:ie})(Y(({theme:s})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(s.vars||s).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${V.positionStart}&:not(.${V.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),de=i.forwardRef(function(t,n){const l=K({props:t,name:"MuiInputAdornment"}),{children:c,className:x,component:b="div",disablePointerEvents:h=!1,disableTypography:C=!1,position:g,variant:y,...T}=l,u=O()||{};let p=y;y&&u.variant,u&&!p&&(p=u.variant);const f={...l,hiddenLabel:u.hiddenLabel,size:u.size,disablePointerEvents:h,position:g,variant:p},E=le(f);return e.jsx(X.Provider,{value:null,children:e.jsx(ce,{as:b,ownerState:f,className:q(E.root,x),ref:n,...T,children:typeof c=="string"&&!C?e.jsx(z,{color:"textSecondary",children:c}):e.jsxs(i.Fragment,{children:[g==="start"?U||(U=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:"â€‹"})):null,c]})})})}),ue=B(e.jsx("path",{d:"m19 1-5 5v11l5-4.5zM1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6m22 13.5V6c-.6-.45-1.25-.75-2-1v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5v2c1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5z"}),"AutoStories"),pe=B(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),me=s=>{let t=s;return t=t.replace(/\s+/g,"_"),t=t.replace(/[^a-zA-Z0-9_]/g,""),t=t.toLowerCase(),t},W=te.debounce((s,t,n)=>{s(t,n)},500),ve=({placeholder:s="",style:t={},snakeCase:n=!1,debounced:l=!1,multiline:c=!1,inputConfig:x,shrink:b=!0,onBlur:h=()=>{},onMoreDetails:C,onRemove:g})=>{const{tool:y,id:T}=i.useContext(ne),{selectEditValue:u,updateTool:p,validateToolField:f,selectErrorValue:E}=ee(y,T),{label:A,type:w="text",tooltip:k,validateFn:m,keypath:r}=x,o=E(r),H=u(r),[j,F]=i.useState(!1),[v,$]=i.useState(!0),[_,N]=i.useState(H??"");i.useEffect(()=>{j&&!o?$(!1):j&&o&&$(!0)},[j,o]);const P=i.useCallback(a=>{if(w==="number"){const d=Number(a.target.value);p(r,d),N(d);const L=(m==null?void 0:m(d))||null;f(r,L)}else{const d=n?me(a.target.value):a.target.value;a.target.value=d,p(r,d),N(d);const L=(m==null?void 0:m(d))||null;f(r,L)}},[r,w,n,p,m,f]),D=i.useMemo(()=>l?a=>{W(P,a,{keypath:r})}:a=>{P(a)},[l,P,r]);return e.jsx(R,{sx:{...t},children:e.jsx(se,{label:A,multiline:c,type:w,value:_,onChange:D,placeholder:s,helperText:j?o:"",fullWidth:!0,margin:"normal",onFocus:()=>F(!0),onBlur:a=>{F(!0),h&&h(),l&&W.flush()},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:o?v?"error.main":"secondary.main":"success.main"},"&:hover fieldset":{borderColor:o?v||o?"error.main":"":"success.main"},"&.Mui-focused fieldset":{borderColor:o?v||o?"error.main":"":"success.main"}},mb:2},slotProps:{inputLabel:{shrink:!!j||b,sx:{fontWeight:"bold",color:o&&v?"error.main":"success.main","&.Mui-focused":{color:v?"error.main":"success.main"}}},input:{endAdornment:e.jsxs(de,{position:"end",children:[o?e.jsx(S,{title:e.jsx(e.Fragment,{children:o?e.jsx(z,{variant:"body2",children:o}):e.jsx(z,{variant:"body2",children:"This field needs correction"})}),arrow:!0,children:e.jsx(I,{children:e.jsx(re,{fontSize:"small",sx:{color:"error.main"}})})}):e.jsx(R,{sx:{width:"36px"}}),k&&e.jsx(S,{title:e.jsx(e.Fragment,{children:e.jsx(z,{variant:"body2",children:k})}),arrow:!0,children:e.jsx(I,{children:e.jsx(pe,{fontSize:"small",sx:{cursor:"pointer",color:"secondary.main"}})})}),C&&e.jsx(S,{title:`Click for ${A} details`,arrow:!0,children:e.jsx(I,{onClick:C,sx:{color:"primary.main"},children:e.jsx(ue,{fontSize:"small"})})}),g&&e.jsx(S,{title:`Remove ${A}`,arrow:!0,children:e.jsx(I,{onClick:g,sx:{color:"error.main"},children:e.jsx(oe,{fontSize:"small"})})})]})},formHelperText:{sx:{position:"absolute",bottom:"-20px",fontSize:"12px",color:v?"error.main":"transparent",display:{xs:"none",xl:"block"}}}}})})};export{pe as I,ve as T};
