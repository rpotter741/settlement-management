import{P as q,Q as G,r as l,S as J,as as K,j as e,at as ee,W as te,R as ne,T as w,X as M,Y as se,_ as oe,a5 as L,c as re,l as ae,B as ie,g as le,C as z,ag as I,au as ce}from"./main.js";import{S as ue}from"./PageBox.js";function de(n){return G("MuiInputAdornment",n)}const _=q("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var B;const pe=(n,t)=>{const{ownerState:o}=n;return[t.root,t[`position${M(o.position)}`],o.disablePointerEvents===!0&&t.disablePointerEvents,t[o.variant]]},me=n=>{const{classes:t,disablePointerEvents:o,hiddenLabel:i,position:u,size:h,variant:x}=n,f={root:["root",o&&"disablePointerEvents",u&&`position${M(u)}`,x,i&&"hiddenLabel",h&&`size${M(h)}`]};return se(f,de,t)},he=te("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:pe})(oe(({theme:n})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${_.positionStart}&:not(.${_.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),xe=l.forwardRef(function(t,o){const i=J({props:t,name:"MuiInputAdornment"}),{children:u,className:h,component:x="div",disablePointerEvents:f=!1,disableTypography:S=!1,position:g,variant:b,...T}=i,p=K()||{};let j=b;b&&p.variant,p&&!j&&(j=p.variant);const y={...i,hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:f,position:g,variant:j},E=me(y);return e.jsx(ee.Provider,{value:null,children:e.jsx(he,{as:x,ownerState:y,className:ne(E.root,h),ref:o,...T,children:typeof u=="string"&&!S?e.jsx(w,{color:"textSecondary",children:u}):e.jsxs(l.Fragment,{children:[g==="start"?B||(B=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:"â€‹"})):null,u]})})})}),ve=L(e.jsx("path",{d:"m19 1-5 5v11l5-4.5zM1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6m22 13.5V6c-.6-.45-1.25-.75-2-1v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5v2c1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5z"}),"AutoStories"),fe=L(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),ge=L(e.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),be=n=>{let t=n;return t=t.replace(/\s+/g,"_"),t=t.replace(/[^a-zA-Z0-9_]/g,""),t=t.toLowerCase(),t},je=(n,t)=>Math.round(n*10**t)/10**t,D=ae.debounce((n,t,o,i)=>{n(t,o,i)},500),ye=({placeholder:n="",style:t={},snakeCase:o=!1,debounced:i=!1,multiline:u=!1,inputConfig:h,disabled:x=!1,shrink:f=!0,onBlur:S=()=>{},onMoreDetails:g,onRemove:b,dynamicLabel:T,decimals:p=2,allowZero:j=!0})=>{const{tool:y,id:E}=l.useContext(ue),{selectEditValue:H,updateTool:k,validateToolField:R,selectErrorValue:X}=re(y,E),{label:A,type:P="text",tooltip:V,validateFn:m,keypath:d}=h,s=X(d),O=H(d),[C,$]=l.useState(!1),[v,F]=l.useState(!0),[Q,U]=l.useState(O??"");l.useEffect(()=>{C&&!s?F(!1):C&&s&&F(!0)},[C,s]);const N=l.useCallback(a=>{if(console.log(a.target.value),P==="number"){const r=je(a.target.value,p);let c=j?r:Math.max(1,r);a.target.value=c,U(c);const Z=(m==null?void 0:m(c))||null;return{value:Number(c),error:Z}}else{const r=o?be(a.target.value):a.target.value;a.target.value=r,U(r);const c=(m==null?void 0:m(r))||null;return{value:r,error:c}}},[d,P,o,k,m,R]),W=l.useCallback((a,r)=>{k(d,a),R(d,r)},[d]),Y=l.useCallback(a=>{const{value:r,error:c}=N(a);i?D(W,r,c,{keypath:d}):W(r,c)},[i,N,d]);return e.jsx(ie,{sx:{...t},children:e.jsx(le,{disabled:x,label:T||A,multiline:u,type:P,value:Q,onChange:Y,placeholder:n,helperText:C?s:"",fullWidth:!0,margin:"normal",onFocus:()=>$(!0),onBlur:a=>{$(!0),S&&S(),i&&D.flush()},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:s?v?"warning.main":"secondary.main":"success.main"},"&:hover fieldset":{borderColor:s?v||s?"warning.main":"":"success.main"},"&.Mui-focused fieldset":{borderColor:s?v||s?"warning.main":"":"success.main"}},mb:2},slotProps:{inputLabel:{shrink:!!C||f,sx:{fontWeight:"bold",color:s&&v?"warning.main":"success.main","&.Mui-focused":{color:v?"warning.main":"success.main"}}},input:{endAdornment:e.jsxs(xe,{position:"end",children:[s?e.jsx(z,{title:e.jsx(e.Fragment,{children:s?e.jsx(w,{variant:"body2",children:s}):e.jsx(w,{variant:"body2",children:"This field needs correction"})}),arrow:!0,children:e.jsx(I,{children:e.jsx(ge,{fontSize:"small",sx:{color:"warning.main"}})})}):null,V&&!x&&e.jsx(z,{title:e.jsx(e.Fragment,{children:e.jsx(w,{variant:"body2",children:V})}),arrow:!0,children:e.jsx(I,{children:e.jsx(fe,{fontSize:"small",sx:{cursor:"pointer",color:"secondary.main"}})})}),g&&e.jsx(z,{title:`Click for ${A} details`,arrow:!0,children:e.jsx(I,{onClick:g,sx:{color:"primary.main"},children:e.jsx(ve,{fontSize:"small"})})}),b&&e.jsx(z,{title:`Remove ${A}`,arrow:!0,children:e.jsx(I,{onClick:b,sx:{color:"warning.main"},children:e.jsx(ce,{fontSize:"small"})})})]})},formHelperText:{sx:{position:"absolute",bottom:"-20px",fontSize:"10px",color:v?"warning.main":"transparent",display:{xs:"none",xl:"block"}}}}})})};export{fe as I,ye as T};
