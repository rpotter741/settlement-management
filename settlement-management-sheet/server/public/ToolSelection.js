import{r as x,b as R,L as $,c as S,d as T,j as o,s as F,e as w,f as D,g as P,h as E,i as G,m as M,k as g,l as u,n as N,B as y,o as V,T as z,A as U,M as A,v as H,p as O,q as W,t as q}from"./main.js";const J=(t,a)=>{const{ownerState:s}=t;return[a.root,s.dense&&a.dense,s.alignItems==="flex-start"&&a.alignItemsFlexStart,s.divider&&a.divider,!s.disableGutters&&a.gutters]},K=t=>{const{alignItems:a,classes:s,dense:r,disabled:e,disableGutters:i,divider:c,selected:p}=t,l=D({root:["root",r&&"dense",!i&&"gutters",c&&"divider",e&&"disabled",a==="flex-start"&&"alignItemsFlexStart",p&&"selected"]},P,s);return{...s,...l}},Q=F(E,{shouldForwardProp:t=>G(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:J})(M(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${u.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:g(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${u.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:g(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${u.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:g(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:g(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${u.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${u.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:a})=>a.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:a})=>!a.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:a})=>a.dense,style:{paddingTop:4,paddingBottom:4}}]}))),X=x.forwardRef(function(a,s){const r=R({props:a,name:"MuiListItemButton"}),{alignItems:e="center",autoFocus:i=!1,component:c="div",children:p,dense:n=!1,disableGutters:l=!1,divider:b=!1,focusVisibleClassName:k,selected:v=!1,className:m,...d}=r,f=x.useContext($),I=x.useMemo(()=>({dense:n||f.dense||!1,alignItems:e,disableGutters:l}),[e,f.dense,n,l]),h=x.useRef(null);S(()=>{i&&h.current&&h.current.focus()},[i]);const B={...r,alignItems:e,dense:I.dense,disableGutters:l,divider:b,selected:v},C=K(B),L=T(h,s);return o.jsx($.Provider,{value:I,children:o.jsx(Q,{ref:L,href:d.href||d.to,component:(d.href||d.to)&&c==="div"?"button":c,focusVisibleClassName:w(C.focusVisible,k),ownerState:B,className:w(C.root,m),...d,classes:C,children:p})})}),Y=(t,a)=>{const s=[],r=e=>{if(!e)return!1;if(s.push(e.title||"Untitled"),e.title===a)return!0;if(e.children){for(const i of e.children)if(r(i))return!0}return s.pop(),!1};for(const e of t)if(r(e))break;return s},j=({entry:t,index:a,active:s,setActive:r,clickFn:e,setTool:i})=>{const{addNewTab:c}=N();t.title;const p=n=>{if(e===void 0)Y(O,n),r(s===n?null:n),i&&i(t.tool||"");else{const{name:l,id:b,mode:k,tool:v,tabId:m,scroll:d,preventSplit:f}=e();c({name:l,id:b,mode:"preview",tool:v,tabId:m,scroll:0,activate:!0,preventSplit:f,side:"left"})}};return o.jsxs(y,{sx:{backgroundColor:s===t.title?"accent.light":"transparent",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box"},children:[o.jsx(X,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:36,maxHeight:36,width:"100%","&:hover":{color:"white"}},onClick:()=>{p(t.title)},children:o.jsxs(y,{sx:{display:"flex",alignItems:"center",justifyContent:"start",width:"100%"},children:[o.jsx(V,{children:t.icon&&o.jsx(t.icon,{sx:{color:s===t.title?"success.main":"secondary.light"}})}),o.jsx(z,{variant:"body2",fontWeight:"bold",sx:{"&hover":{color:"white"},color:s===t.title?"black":"text.primary"},children:t.title})]})}),o.jsx(U,{mode:"popLayout",children:o.jsx(A,{initial:{height:0,opacity:0},animate:s===t.title?{height:"auto",opacity:1}:{height:0,opacity:0},exit:{height:0,opacity:0},transition:{duration:.3},sx:{display:"flex",flexDirection:"column",backgroundColor:"background.paper",width:"100%"},children:((t==null?void 0:t.children)||[]).map((n,l)=>o.jsx(j,{entry:n,index:l,active:s,setActive:r,clickFn:n.onClick},H()))})})]},t.title)},Z=({entry:t,index:a,setActive:s,active:r,setTool:e})=>o.jsx(y,{sx:{display:"flex",flexDirection:"column",boxSizing:"border-box"},children:t.children.map((i,c)=>o.jsx(j,{entry:i,index:c,active:r,setActive:s,setTool:e},i.title))},t.title),tt=({})=>{const{active:t,setActive:a,setTool:s}=W(),r=e=>{s(e)};return o.jsx(o.Fragment,{children:o.jsx(q,{sx:{p:0},children:O.map((e,i)=>e.type==="header"?o.jsx(Z,{entry:e,index:i,setActive:a,active:t,setTool:r},i):e.type==="link"?o.jsx(j,{entry:e,index:i,active:t===e.title,setActive:a,setTool:r,clickFn:()=>{}},i):null)})})};export{tt as default};
