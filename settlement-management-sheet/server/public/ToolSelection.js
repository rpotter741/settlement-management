import{r as x,u as R,L as $,a as S,b as T,j as a,s as F,c as w,d as D,g as P,B as E,e as G,m as M,f as g,l as u,h as N,i as y,k as V,T as z,A as U,M as A,v as H,n as O,o as W,p as q}from"./main.js";const J=(t,o)=>{const{ownerState:e}=t;return[o.root,e.dense&&o.dense,e.alignItems==="flex-start"&&o.alignItemsFlexStart,e.divider&&o.divider,!e.disableGutters&&o.gutters]},K=t=>{const{alignItems:o,classes:e,dense:r,disabled:s,disableGutters:i,divider:c,selected:p}=t,l=D({root:["root",r&&"dense",!i&&"gutters",c&&"divider",s&&"disabled",o==="flex-start"&&"alignItemsFlexStart",p&&"selected"]},P,e);return{...e,...l}},Q=F(E,{shouldForwardProp:t=>G(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:J})(M(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${u.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:g(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${u.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:g(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${u.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:g(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:g(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${u.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${u.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:o})=>o.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:o})=>!o.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:o})=>o.dense,style:{paddingTop:4,paddingBottom:4}}]}))),X=x.forwardRef(function(o,e){const r=R({props:o,name:"MuiListItemButton"}),{alignItems:s="center",autoFocus:i=!1,component:c="div",children:p,dense:n=!1,disableGutters:l=!1,divider:b=!1,focusVisibleClassName:k,selected:v=!1,className:m,...d}=r,f=x.useContext($),I=x.useMemo(()=>({dense:n||f.dense||!1,alignItems:s,disableGutters:l}),[s,f.dense,n,l]),h=x.useRef(null);S(()=>{i&&h.current&&h.current.focus()},[i]);const B={...r,alignItems:s,dense:I.dense,disableGutters:l,divider:b,selected:v},C=K(B),L=T(h,e);return a.jsx($.Provider,{value:I,children:a.jsx(Q,{ref:L,href:d.href||d.to,component:(d.href||d.to)&&c==="div"?"button":c,focusVisibleClassName:w(C.focusVisible,k),ownerState:B,className:w(C.root,m),...d,classes:C,children:p})})}),Y=(t,o)=>{const e=[],r=s=>{if(!s)return!1;if(e.push(s.title||"Untitled"),s.title===o)return!0;if(s.children){for(const i of s.children)if(r(i))return!0}return e.pop(),!1};for(const s of t)if(r(s))break;return e},j=({entry:t,index:o,active:e,setActive:r,clickFn:s,setTool:i})=>{const{addNewTab:c}=N();t.title===e&&console.log(e,t.children);const p=n=>{if(s===void 0)Y(O,n),r(e===n?null:n),i&&i(t.tool||"");else{const{name:l,id:b,mode:k,tool:v,tabId:m,scroll:d,preventSplit:f}=s();c({name:l,id:b,mode:"preview",tool:v,tabId:m,scroll:0,activate:!0,preventSplit:f,side:"left"})}};return a.jsxs(y,{sx:{backgroundColor:e===t.title?"accent.light":"transparent",display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box"},children:[a.jsx(X,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:36,maxHeight:36,width:"100%","&:hover":{color:"white"}},onClick:()=>{p(t.title)},children:a.jsxs(y,{sx:{display:"flex",alignItems:"center",justifyContent:"start",width:"100%"},children:[a.jsx(V,{children:t.icon&&a.jsx(t.icon,{sx:{color:e===t.title?"success.main":"secondary.light"}})}),a.jsx(z,{variant:"body2",fontWeight:"bold",sx:{"&hover":{color:"white"},color:e===t.title?"black":"text.primary"},children:t.title})]})}),a.jsx(U,{mode:"popLayout",children:a.jsx(A,{initial:{height:0,opacity:0},animate:e===t.title?{height:"auto",opacity:1}:{height:0,opacity:0},exit:{height:0,opacity:0},transition:{duration:.3},sx:{display:"flex",flexDirection:"column",backgroundColor:"background.paper",width:"100%"},children:((t==null?void 0:t.children)||[]).map((n,l)=>a.jsx(j,{entry:n,index:l,active:e,setActive:r,clickFn:n.onClick},H()))})})]},t.title)},Z=({entry:t,index:o,setActive:e,active:r,setTool:s})=>a.jsx(y,{sx:{display:"flex",flexDirection:"column",boxSizing:"border-box"},children:t.children.map((i,c)=>a.jsx(j,{entry:i,index:c,active:r,setActive:e,setTool:s},i.title))},t.title),tt=({})=>{const{active:t,setActive:o,setTool:e}=W(),r=s=>{e(s)};return a.jsx(a.Fragment,{children:a.jsx(q,{sx:{p:0},children:O.map((s,i)=>s.type==="header"?a.jsx(Z,{entry:s,index:i,setActive:o,active:t,setTool:r},i):s.type==="link"?a.jsx(j,{entry:s,index:i,active:t===s.title,setActive:o,setTool:r,clickFn:()=>{}},i):null)})})};export{tt as default};
