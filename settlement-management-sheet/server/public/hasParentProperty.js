const o=({node:d,nodeStructure:s})=>{const i={},y={};let r=0;const n=s[d.parentId??""];let t=n;for(;t&&(i[t.entryType]||(i[t.entryType]=[]),i[t.entryType].push(t.id),y[t.id]=r===0?"parent":r===1?"sibling":"extended",r++,!!t.parentId);)t=s[t.parentId];if(!d.parentId)for(const e of Object.values(s))!e.parentId&&e.id!==d.id&&(i[e.entryType]||(i[e.entryType]=[]),i[e.entryType].push(e.id),y[e.id]="sibling");for(const e of(n==null?void 0:n.children)??[])e.id!==d.id&&(i[e.entryType]||(i[e.entryType]=[]),i[e.entryType].push(e.id),y[e.id]="sibling");const f=s[(n==null?void 0:n.parentId)??""];for(const e of(f==null?void 0:f.children)??[])if(e.id!==n.id){i[e.entryType]||(i[e.entryType]=[]),i[e.entryType].push(e.id),y[e.id]="extended";for(const p of e.children??[])p.id!==d.id&&p.id!==n.id&&(i[p.entryType]||(i[p.entryType]=[]),i[p.entryType].push(p.id)),y[p.id]="extended"}return{entryTypeMap:i,relationships:y}};export{o as g};
