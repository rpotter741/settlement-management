import{aT as y,ag as p,a3 as u,r as m,u as b,as as g,aR as j,j as e,B as r,T as a,Y as d,O as f,a as c}from"./main.js";const v=async({subTypeId:t})=>y.post("/glossary/subTypes/delete",{subTypeId:t}).then(n=>n.data);function S({subTypeId:t}){return async(n,s)=>{s().subType.edit[t];try{await v({subTypeId:t})}catch(i){console.error("Error deleting SubType:",i),n(u({message:"Error deleting SubType. Try again later.",type:"error",duration:3e3}))}}}function D({subTypeId:t}){return p(S({subTypeId:t}))}const k=({subType:t})=>{const[n,s]=m.useState(""),{closeModal:o}=b(),{getPropertyLabel:l}=g(),{openRelay:i}=j({id:"subType-sidebar-template"}),x=()=>{D({subTypeId:t.id}),o(),i({data:{isDeleting:!0},status:"complete"})};return e.jsxs(r,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:1},children:[e.jsxs(a,{variant:"h6",sx:{mb:2},children:['Are you sure you want to delete the sub-type "',t==null?void 0:t.name,'"?']}),e.jsxs(a,{variant:"body1",children:["This action will permanently remove all associated data, forcing any associated entries to fallback to their glossary's default"," ",e.jsx("strong",{children:l(t.entryType).label})," sub-type assignment."]}),e.jsx(a,{variant:"body1",color:"error",sx:{mt:2},fontWeight:"bold",children:"This action cannot be undone."}),e.jsxs(r,{children:[e.jsx(d,{}),e.jsx(a,{variant:"body1",sx:{my:2},children:"Affected Entries per Glossary:"}),e.jsxs(r,{sx:{display:"flex",gap:4,alignItems:"center",mb:1,px:4},children:[e.jsx(a,{variant:"body1",fontWeight:"bold",children:"Vals'kar"}),e.jsx(a,{variant:"body2",sx:{textDecoration:"underline"},children:"3 entries"})]}),e.jsxs(r,{sx:{display:"flex",gap:4,alignItems:"center",mb:1,px:4},children:[e.jsx(a,{variant:"body1",fontWeight:"bold",children:"Doscari"}),e.jsx(a,{variant:"body2",sx:{textDecoration:"underline"},children:"9 entries"})]}),e.jsxs(r,{sx:{display:"flex",gap:4,alignItems:"center",mb:1,px:4},children:[e.jsx(a,{variant:"body1",fontWeight:"bold",children:"Eclorea"}),e.jsx(a,{variant:"body2",sx:{textDecoration:"underline"},children:"1 entry"})]}),e.jsx(d,{})]}),e.jsxs(a,{variant:"body2",sx:{mt:2},children:["Please type in the name of the sub-type to confirm:"," ",e.jsx("strong",{children:t==null?void 0:t.name})]}),e.jsx(f,{value:n,onChange:h=>s(h.target.value)}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[e.jsx(c,{variant:"outlined",color:"primary",onClick:()=>o(),children:"Cancel"}),e.jsx(c,{variant:"contained",color:"error",disabled:n!==(t==null?void 0:t.name),onClick:x,children:"Delete Sub-Type"})]})]})};export{k as default};
