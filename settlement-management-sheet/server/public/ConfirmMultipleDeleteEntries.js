import{as as b,a0 as C,r as o,av as E,j as e,T as r,G as T,i as u,I as v,aE as N,W as m}from"./main.js";import{t as k}from"./glossaryThunks.js";const w=({nodes:i,glossaryId:B})=>{const{closeModal:a}=b(),p=C(),[x,h]=o.useState(!0),[s,f]=o.useState(i),[l,y]=o.useState(i.length>1),j=()=>{s.forEach(t=>{p(k.deleteEntry({node:t}))})};o.useEffect(()=>{const t=setTimeout(()=>{h(!1)},1500);return()=>clearTimeout(t)}),o.useEffect(()=>{s.length===0&&a()},[s,a]),o.useEffect(()=>{y(s.length>1)},[s]);const{getPropertyLabel:c}=E(),g=o.useCallback(()=>["continent","territory","province","domain","landmark","settlement","faction"].map(n=>c("system",n)).map(n=>n.label).join(" / "),[c]);return e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"h6",color:"error.main",gutterBottom:!0,children:"Confirm Deletion"}),e.jsxs(r,{variant:"body1",gutterBottom:!0,children:["Are you sure you want to delete the following"," ",l?"entries":"entry","? If ",l?"any are":"it is"," ","a"," ",e.jsx(T,{title:e.jsx(r,{children:g()}),arrow:!0,placement:"top",children:e.jsx(r,{component:"span",sx:{fontWeight:"bold",color:"info.main",cursor:"pointer"},children:"section"})}),","," ",e.jsxs("strong",{children:["all of ",l?"their":"its"," contents will also be deleted."]})]}),s.map((t,n)=>e.jsxs(u,{sx:{display:"flex",alignItems:"center",justifyContent:"start",gap:3},children:[e.jsx(v,{size:"small",onClick:()=>{const d=[...s];d.splice(n,1),f(d)},children:e.jsx(N,{})}),e.jsx(r,{variant:"body2",children:t.name},t.id)]},t.id)),e.jsx(r,{variant:"body1",color:"error.main",gutterBottom:!0,sx:{backgroundColor:"rgba(255, 0, 0, 0.1)",padding:1},children:"THIS ACTION CANNOT BE UNDONE."}),e.jsxs(u,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[e.jsx(m,{variant:"outlined",color:"primary",onClick:()=>a(),children:"Cancel"}),e.jsx(m,{variant:"contained",color:"error",onClick:()=>{j(),a()},disabled:x,children:"Delete"})]})]})};export{w as default};
